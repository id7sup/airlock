"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/share/[token]/view/page",{

/***/ "(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx":
/*!*************************************************!*\
  !*** ./src/components/shared/PDFPageViewer.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFPageViewer: () => (/* binding */ PDFPageViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* __next_internal_client_entry_do_not_use__ PDFPageViewer auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n// Composant pour afficher une page via canvas (plus difficile à sauvegarder)\nfunction PageCanvas({ pageUrl, pageNumber, totalPages }) {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.onload = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    const ctx = canvas.getContext('2d', {\n                        willReadFrequently: false\n                    });\n                    if (!ctx) return;\n                    // Ajuster la taille du canvas à l'image\n                    canvas.width = img.width;\n                    canvas.height = img.height;\n                    // Dessiner l'image\n                    ctx.drawImage(img, 0, 0);\n                    // Désactiver certaines méthodes du canvas pour rendre plus difficile l'export\n                    // (Note: cela ne peut pas être complètement empêché, mais rend plus difficile)\n                    setLoaded(true);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.onerror = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    console.error(`❌ Erreur chargement page ${pageNumber}`);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.src = pageUrl;\n        }\n    }[\"PageCanvas.useEffect\"], [\n        pageUrl,\n        pageNumber\n    ]);\n    // Protection supplémentaire : empêcher l'export du canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const preventExport = {\n                \"PageCanvas.useEffect.preventExport\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PageCanvas.useEffect.preventExport\"];\n            // Bloquer les événements sur le canvas\n            canvas.addEventListener('contextmenu', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('mousedown', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('click', preventExport, {\n                capture: true\n            });\n            return ({\n                \"PageCanvas.useEffect\": ()=>{\n                    canvas.removeEventListener('contextmenu', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('mousedown', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('click', preventExport, {\n                        capture: true\n                    });\n                }\n            })[\"PageCanvas.useEffect\"];\n        }\n    }[\"PageCanvas.useEffect\"], [\n        loaded\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                className: \"w-full h-auto block\",\n                style: {\n                    pointerEvents: \"none\",\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    WebkitTouchCallout: \"none\",\n                    touchAction: \"none\",\n                    imageRendering: \"high-quality\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onMouseDown: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            !loaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    className: \"w-6 h-6 animate-spin text-black/40\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\n_s(PageCanvas, \"4mBQWWl8obzKs4C+yM1x3Qp8zJM=\");\n_c = PageCanvas;\nfunction PDFPageViewer({ fileId, token, fileName }) {\n    _s1();\n    const [manifest, setManifest] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [shareId, setShareId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loadedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Récupérer le shareId depuis l'API public/view/info (plus simple et fiable)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            const fetchShareId = {\n                \"PDFPageViewer.useEffect.fetchShareId\": async ()=>{\n                    try {\n                        console.log(`[PDFPageViewer] Récupération shareId pour fileId=${fileId}...`);\n                        const response = await fetch(`/api/public/view/info?fileId=${fileId}&token=${token}`);\n                        if (response.ok) {\n                            const data = await response.json();\n                            console.log(`[PDFPageViewer] Données reçues:`, data);\n                            if (data.shareId) {\n                                console.log(`[PDFPageViewer] ShareId trouvé: ${data.shareId}`);\n                                setShareId(data.shareId);\n                            } else {\n                                console.error(`[PDFPageViewer] ShareId non trouvé dans la réponse`);\n                                // Fallback: essayer avec viewer-manifest\n                                const fallbackResponse = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                                if (fallbackResponse.ok) {\n                                    const fallbackData = await fallbackResponse.json();\n                                    if (fallbackData.pageUrls && fallbackData.pageUrls.length > 0) {\n                                        const match = fallbackData.pageUrls[0].match(/\\/api\\/share\\/([^/]+)\\//);\n                                        if (match && match[1]) {\n                                            console.log(`[PDFPageViewer] ShareId extrait depuis pageUrls: ${match[1]}`);\n                                            setShareId(match[1]);\n                                        }\n                                    }\n                                }\n                            }\n                        } else {\n                            const errorData = await response.json();\n                            console.error(`[PDFPageViewer] Erreur récupération shareId:`, errorData);\n                        }\n                    } catch (err) {\n                        console.error(\"[PDFPageViewer] Erreur récupération shareId:\", err);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.fetchShareId\"];\n            fetchShareId();\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Protection globale contre les téléchargements et captures\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            // Bloquer les raccourcis clavier\n            const handleKeyDown = {\n                \"PDFPageViewer.useEffect.handleKeyDown\": (e)=>{\n                    // Ctrl+S, Ctrl+P, Ctrl+A, F12, Print Screen, etc.\n                    if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'p' || e.key === 'a' || e.key === 'u' || e.key === 'i') || e.key === 'F12' || e.key === 'PrintScreen' || e.shiftKey && e.key === 'F12') {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleKeyDown\"];\n            // Bloquer le menu contextuel\n            const handleContextMenu = {\n                \"PDFPageViewer.useEffect.handleContextMenu\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleContextMenu\"];\n            // Bloquer le drag and drop\n            const handleDragStart = {\n                \"PDFPageViewer.useEffect.handleDragStart\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleDragStart\"];\n            // Bloquer la sélection de texte\n            const handleSelectStart = {\n                \"PDFPageViewer.useEffect.handleSelectStart\": (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleSelectStart\"];\n            // Bloquer la copie\n            const handleCopy = {\n                \"PDFPageViewer.useEffect.handleCopy\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleCopy\"];\n            // Bloquer le clic droit et le clic gauche sur les images\n            const handleMouseDown = {\n                \"PDFPageViewer.useEffect.handleMouseDown\": (e)=>{\n                    // Bloquer tous les clics sur les images\n                    const target = e.target;\n                    if (target.tagName === 'IMG' || target.closest('img')) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleMouseDown\"];\n            // Ajouter les écouteurs avec capture pour intercepter tôt\n            document.addEventListener('keydown', handleKeyDown, {\n                capture: true\n            });\n            document.addEventListener('contextmenu', handleContextMenu, {\n                capture: true\n            });\n            document.addEventListener('dragstart', handleDragStart, {\n                capture: true\n            });\n            document.addEventListener('selectstart', handleSelectStart, {\n                capture: true\n            });\n            document.addEventListener('copy', handleCopy, {\n                capture: true\n            });\n            document.addEventListener('mousedown', handleMouseDown, {\n                capture: true\n            });\n            // Désactiver la sélection de texte globalement\n            document.body.style.userSelect = 'none';\n            document.body.style.webkitUserSelect = 'none';\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    document.removeEventListener('keydown', handleKeyDown, {\n                        capture: true\n                    });\n                    document.removeEventListener('contextmenu', handleContextMenu, {\n                        capture: true\n                    });\n                    document.removeEventListener('dragstart', handleDragStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('selectstart', handleSelectStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('copy', handleCopy, {\n                        capture: true\n                    });\n                    document.removeEventListener('mousedown', handleMouseDown, {\n                        capture: true\n                    });\n                    document.body.style.userSelect = '';\n                    document.body.style.webkitUserSelect = '';\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], []);\n    // Récupérer le shareId depuis l'ancienne route viewer-manifest\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            const fetchShareId = {\n                \"PDFPageViewer.useEffect.fetchShareId\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                        if (response.ok) {\n                            const data = await response.json();\n                            // Extraire le shareId depuis les pageUrls si disponibles\n                            if (data.pageUrls && data.pageUrls.length > 0) {\n                                const match = data.pageUrls[0].match(/\\/api\\/share\\/([^/]+)\\//);\n                                if (match) {\n                                    setShareId(match[1]);\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur récupération shareId:\", err);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.fetchShareId\"];\n            fetchShareId();\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Charger le manifest avec polling si en cours de génération\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!shareId) return; // Attendre que shareId soit disponible\n            let pollInterval = null;\n            let retryCount = 0;\n            const MAX_RETRIES = 30; // 30 tentatives = 1 minute max (polling toutes les 2s)\n            const loadManifest = {\n                \"PDFPageViewer.useEffect.loadManifest\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/${shareId}/file/${fileId}/manifest?token=${token}`);\n                        if (!response.ok) {\n                            const errorData = await response.json();\n                            setError(errorData.error || `Erreur ${response.status}`);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        const data = await response.json();\n                        if (data.status === \"processing\") {\n                            retryCount++;\n                            if (retryCount >= MAX_RETRIES) {\n                                setError(\"La génération des pages prend trop de temps. Veuillez réessayer plus tard.\");\n                                setLoading(false);\n                                return;\n                            }\n                            // Continuer le polling\n                            setManifest(data);\n                            setLoading(true);\n                            return;\n                        }\n                        if (data.error) {\n                            setError(data.error);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        // Pages prêtes ! Arrêter le polling\n                        setManifest(data);\n                        setLoading(false);\n                        if (pollInterval) {\n                            clearInterval(pollInterval);\n                            pollInterval = null;\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur lors du chargement:\", err);\n                        setError(err.message || \"Erreur de chargement\");\n                        setLoading(false);\n                        if (pollInterval) clearInterval(pollInterval);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.loadManifest\"];\n            if (fileId && token && shareId) {\n                loadManifest();\n                // Polling toutes les 2 secondes\n                pollInterval = setInterval({\n                    \"PDFPageViewer.useEffect\": ()=>{\n                        loadManifest();\n                    }\n                }[\"PDFPageViewer.useEffect\"], 2000);\n            } else if (!shareId) {\n                // Attendre que shareId soit disponible\n                return;\n            } else {\n                setError(\"Paramètres manquants\");\n                setLoading(false);\n            }\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    if (pollInterval) clearInterval(pollInterval);\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token,\n        shareId\n    ]);\n    // Lazy loading avec IntersectionObserver\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!manifest || manifest.status !== \"ready\" || !containerRef.current) return;\n            const observer = new IntersectionObserver({\n                \"PDFPageViewer.useEffect\": (entries)=>{\n                    entries.forEach({\n                        \"PDFPageViewer.useEffect\": (entry)=>{\n                            if (entry.isIntersecting) {\n                                const pageIndex = parseInt(entry.target.getAttribute(\"data-page-index\") || \"0\");\n                                if (!loadedPagesRef.current.has(pageIndex)) {\n                                    loadedPagesRef.current.add(pageIndex);\n                                }\n                            }\n                        }\n                    }[\"PDFPageViewer.useEffect\"]);\n                }\n            }[\"PDFPageViewer.useEffect\"], {\n                root: containerRef.current,\n                rootMargin: \"200px\",\n                threshold: 0.1\n            });\n            const pageElements = containerRef.current.querySelectorAll(\"[data-page-index]\");\n            pageElements.forEach({\n                \"PDFPageViewer.useEffect\": (el)=>observer.observe(el)\n            }[\"PDFPageViewer.useEffect\"]);\n            observerRef.current = observer;\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    observer.disconnect();\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        manifest\n    ]);\n    const handleDownload = async ()=>{\n        if (!manifest?.downloadAllowed) return;\n        try {\n            const response = await fetch(`/api/share/file/${fileId}/download`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    token\n                })\n            });\n            const data = await response.json();\n            if (data.downloadUrl) {\n                window.open(data.downloadUrl, \"_blank\");\n            } else {\n                alert(data.error || \"Erreur lors du téléchargement\");\n            }\n        } catch (err) {\n            alert(\"Erreur lors du téléchargement\");\n        }\n    };\n    if (loading && !manifest) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 420,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Chargement...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 421,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 419,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 418,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4 max-w-md px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-500 font-medium\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 431,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 430,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 429,\n            columnNumber: 7\n        }, this);\n    }\n    if (!shareId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 441,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Initialisation...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 440,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 439,\n            columnNumber: 7\n        }, this);\n    }\n    if (manifest?.status === \"processing\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 452,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: manifest.message || \"Génération des pages watermarkées en cours...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 453,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-black/40\",\n                        children: \"Cela peut prendre quelques instants pour les gros fichiers\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 456,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 451,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 450,\n            columnNumber: 7\n        }, this);\n    }\n    if (!manifest || manifest.status !== \"ready\" || !manifest.pageCount) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-black/60\",\n                    children: \"Aucune page disponible\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 466,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 465,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 464,\n            columnNumber: 7\n        }, this);\n    }\n    // Générer les URLs des pages\n    const pages = Array.from({\n        length: manifest.pageCount\n    }, (_, i)=>i + 1);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full flex flex-col\",\n        children: [\n            manifest.downloadAllowed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleDownload,\n                    className: \"px-4 py-2 bg-black text-white rounded-xl font-medium hover:bg-black/90 transition-all flex items-center gap-2 shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 484,\n                            columnNumber: 13\n                        }, this),\n                        \"T\\xe9l\\xe9charger\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 480,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 479,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                className: \"flex-1 overflow-y-auto overflow-x-hidden relative z-10\",\n                style: {\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    scrollbarWidth: \"thin\",\n                    scrollbarColor: \"rgba(0, 0, 0, 0.2) transparent\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center py-8 space-y-4\",\n                    children: pages.map((pageNum, index)=>{\n                        const pageUrl = `/api/share/${shareId}/file/${fileId}/page/${pageNum}?token=${token}`;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                            \"data-page-index\": index,\n                            initial: {\n                                opacity: 0,\n                                y: 20\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                duration: 0.3\n                            },\n                            className: \"relative bg-white shadow-lg rounded-lg overflow-hidden\",\n                            style: {\n                                maxWidth: \"90%\",\n                                width: \"100%\",\n                                maxWidth: \"1200px\"\n                            },\n                            onContextMenu: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                e.stopImmediatePropagation();\n                                return false;\n                            },\n                            onMouseDown: (e)=>{\n                                // Détecter si c'est un clic ou un scroll\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onClick: (e)=>{\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onDragStart: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                return false;\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none z-10\",\n                                    style: {\n                                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='500' height='320' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='36' font-weight='900' font-family='Arial, sans-serif' fill='rgba(0,0,0,0.15)' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45 250 160)'%3ECONFIDENTIEL AIRLOCK%3C/text%3E%3C/svg%3E\")`,\n                                        backgroundRepeat: \"repeat\",\n                                        backgroundSize: \"500px 320px\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 561,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: pageUrl,\n                                    alt: `Page ${pageNum}`,\n                                    className: \"w-full h-auto block\",\n                                    loading: \"lazy\",\n                                    draggable: false,\n                                    style: {\n                                        pointerEvents: \"none\",\n                                        userSelect: \"none\",\n                                        WebkitUserSelect: \"none\"\n                                    },\n                                    onContextMenu: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        return false;\n                                    },\n                                    onDragStart: (e)=>{\n                                        e.preventDefault();\n                                        return false;\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 570,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-lg text-xs font-medium z-20\",\n                                    children: [\n                                        \"Page \",\n                                        pageNum,\n                                        \" / \",\n                                        manifest.pageCount\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 592,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 517,\n                            columnNumber: 13\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 513,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 492,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 476,\n        columnNumber: 5\n    }, this);\n}\n_s1(PDFPageViewer, \"iTOmmhl1JvtMMSgY7D7tYnDShs8=\");\n_c1 = PDFPageViewer;\nvar _c, _c1;\n$RefreshReg$(_c, \"PageCanvas\");\n$RefreshReg$(_c1, \"PDFPageViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3NoYXJlZC9QREZQYWdlVmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUU7QUFDMUI7QUFDVTtBQUVqRCw2RUFBNkU7QUFDN0UsU0FBU00sV0FBVyxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUErRDs7SUFDbEgsTUFBTUMsWUFBWVIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sQ0FBQ1MsUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUVyQ0QsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNRSxNQUFNLElBQUlDO1lBQ2hCRCxJQUFJRSxXQUFXLEdBQUc7WUFFbEJGLElBQUlHLE1BQU07d0NBQUc7b0JBQ1gsTUFBTUMsTUFBTU4sT0FBT08sVUFBVSxDQUFDLE1BQU07d0JBQUVDLG9CQUFvQjtvQkFBTTtvQkFDaEUsSUFBSSxDQUFDRixLQUFLO29CQUVWLHdDQUF3QztvQkFDeENOLE9BQU9TLEtBQUssR0FBR1AsSUFBSU8sS0FBSztvQkFDeEJULE9BQU9VLE1BQU0sR0FBR1IsSUFBSVEsTUFBTTtvQkFFMUIsbUJBQW1CO29CQUNuQkosSUFBSUssU0FBUyxDQUFDVCxLQUFLLEdBQUc7b0JBRXRCLDhFQUE4RTtvQkFDOUUsK0VBQStFO29CQUMvRUgsVUFBVTtnQkFDWjs7WUFFQUcsSUFBSVUsT0FBTzt3Q0FBRztvQkFDWkMsUUFBUUMsS0FBSyxDQUFDLENBQUMseUJBQXlCLEVBQUVuQixZQUFZO2dCQUN4RDs7WUFFQU8sSUFBSWEsR0FBRyxHQUFHckI7UUFDWjsrQkFBRztRQUFDQTtRQUFTQztLQUFXO0lBRXhCLDBEQUEwRDtJQUMxRFIsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNZ0I7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LENBQUMsK1VBQStVLENBQUM7d0NBQ2xXQyxrQkFBa0I7d0NBQ2xCQyxnQkFBZ0I7b0NBQ2xCOzs7Ozs7OENBR0YsOERBQUM5STtvQ0FDQ2EsS0FBS3JCO29DQUNMdUosS0FBSyxDQUFDLEtBQUssRUFBRWIsU0FBUztvQ0FDdEI1RyxXQUFVO29DQUNWb0IsU0FBUTtvQ0FDUnNHLFdBQVc7b0NBQ1h4SCxPQUFPO3dDQUNMQyxlQUFlO3dDQUNmQyxZQUFZO3dDQUNaQyxrQkFBa0I7b0NBQ3BCO29DQUNBSSxlQUFlLENBQUNoQjt3Q0FDZEEsRUFBRUMsY0FBYzt3Q0FDaEJELEVBQUVFLGVBQWU7d0NBQ2pCLE9BQU87b0NBQ1Q7b0NBQ0FrQixhQUFhLENBQUNwQjt3Q0FDWkEsRUFBRUMsY0FBYzt3Q0FDaEIsT0FBTztvQ0FDVDs7Ozs7OzhDQUdGLDhEQUFDSztvQ0FBSUMsV0FBVTs7d0NBQWlHO3dDQUN4RzRHO3dDQUFRO3dDQUFJMUYsU0FBU2dGLFNBQVM7Ozs7Ozs7OzJCQTNFakNXOzs7OztvQkErRVQ7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS1Y7SUEvZGdCL0Y7TUFBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb3NlcGhtaWNoYXV0L0Rlc2t0b3AvYWlybG9jay9zcmMvY29tcG9uZW50cy9zaGFyZWQvUERGUGFnZVZpZXdlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gXCJmcmFtZXItbW90aW9uXCI7XG5pbXBvcnQgeyBMb2FkZXIyLCBEb3dubG9hZCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuLy8gQ29tcG9zYW50IHBvdXIgYWZmaWNoZXIgdW5lIHBhZ2UgdmlhIGNhbnZhcyAocGx1cyBkaWZmaWNpbGUgw6Agc2F1dmVnYXJkZXIpXG5mdW5jdGlvbiBQYWdlQ2FudmFzKHsgcGFnZVVybCwgcGFnZU51bWJlciwgdG90YWxQYWdlcyB9OiB7IHBhZ2VVcmw6IHN0cmluZzsgcGFnZU51bWJlcjogbnVtYmVyOyB0b3RhbFBhZ2VzOiBudW1iZXIgfSkge1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG5cbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyB3aWxsUmVhZEZyZXF1ZW50bHk6IGZhbHNlIH0pO1xuICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgLy8gQWp1c3RlciBsYSB0YWlsbGUgZHUgY2FudmFzIMOgIGwnaW1hZ2VcbiAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuXG4gICAgICAvLyBEZXNzaW5lciBsJ2ltYWdlXG4gICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG5cbiAgICAgIC8vIETDqXNhY3RpdmVyIGNlcnRhaW5lcyBtw6l0aG9kZXMgZHUgY2FudmFzIHBvdXIgcmVuZHJlIHBsdXMgZGlmZmljaWxlIGwnZXhwb3J0XG4gICAgICAvLyAoTm90ZTogY2VsYSBuZSBwZXV0IHBhcyDDqnRyZSBjb21wbMOodGVtZW50IGVtcMOqY2jDqSwgbWFpcyByZW5kIHBsdXMgZGlmZmljaWxlKVxuICAgICAgc2V0TG9hZGVkKHRydWUpO1xuICAgIH07XG5cbiAgICBpbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJldXIgY2hhcmdlbWVudCBwYWdlICR7cGFnZU51bWJlcn1gKTtcbiAgICB9O1xuXG4gICAgaW1nLnNyYyA9IHBhZ2VVcmw7XG4gIH0sIFtwYWdlVXJsLCBwYWdlTnVtYmVyXSk7XG5cbiAgLy8gUHJvdGVjdGlvbiBzdXBwbMOpbWVudGFpcmUgOiBlbXDDqmNoZXIgbCdleHBvcnQgZHUgY2FudmFzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgIGNvbnN0IHByZXZlbnRFeHBvcnQgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGVzIMOpdsOpbmVtZW50cyBzdXIgbGUgY2FudmFzXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfTtcbiAgfSwgW2xvYWRlZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGxcIj5cbiAgICAgIDxjYW52YXNcbiAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gYmxvY2tcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgIFdlYmtpdFRvdWNoQ2FsbG91dDogXCJub25lXCIsXG4gICAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgICAgICAgIGltYWdlUmVuZGVyaW5nOiBcImhpZ2gtcXVhbGl0eVwiLFxuICAgICAgICB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX1cbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX1cbiAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICB7IWxvYWRlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTEwMFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNiBoLTYgYW5pbWF0ZS1zcGluIHRleHQtYmxhY2svNDBcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmludGVyZmFjZSBQREZQYWdlVmlld2VyUHJvcHMge1xuICBmaWxlSWQ6IHN0cmluZztcbiAgdG9rZW46IHN0cmluZztcbiAgZmlsZU5hbWU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE1hbmlmZXN0IHtcbiAgc3RhdHVzOiBcInJlYWR5XCIgfCBcInByb2Nlc3NpbmdcIjtcbiAgcGFnZUNvdW50PzogbnVtYmVyO1xuICBkb3dubG9hZEFsbG93ZWQ/OiBib29sZWFuO1xuICBtZXNzYWdlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUERGUGFnZVZpZXdlcih7IGZpbGVJZCwgdG9rZW4sIGZpbGVOYW1lIH06IFBERlBhZ2VWaWV3ZXJQcm9wcykge1xuICBjb25zdCBbbWFuaWZlc3QsIHNldE1hbmlmZXN0XSA9IHVzZVN0YXRlPE1hbmlmZXN0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hhcmVJZCwgc2V0U2hhcmVJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWY8SW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbG9hZGVkUGFnZXNSZWYgPSB1c2VSZWY8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IG92ZXJsYXlSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIFLDqWN1cMOpcmVyIGxlIHNoYXJlSWQgZGVwdWlzIGwnQVBJIHB1YmxpYy92aWV3L2luZm8gKHBsdXMgc2ltcGxlIGV0IGZpYWJsZSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFNoYXJlSWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW1BERlBhZ2VWaWV3ZXJdIFLDqWN1cMOpcmF0aW9uIHNoYXJlSWQgcG91ciBmaWxlSWQ9JHtmaWxlSWR9Li4uYCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYC9hcGkvcHVibGljL3ZpZXcvaW5mbz9maWxlSWQ9JHtmaWxlSWR9JnRva2VuPSR7dG9rZW59YFxuICAgICAgICApO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbUERGUGFnZVZpZXdlcl0gRG9ubsOpZXMgcmXDp3VlczpgLCBkYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF0YS5zaGFyZUlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1BERlBhZ2VWaWV3ZXJdIFNoYXJlSWQgdHJvdXbDqTogJHtkYXRhLnNoYXJlSWR9YCk7XG4gICAgICAgICAgICBzZXRTaGFyZUlkKGRhdGEuc2hhcmVJZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtQREZQYWdlVmlld2VyXSBTaGFyZUlkIG5vbiB0cm91dsOpIGRhbnMgbGEgcsOpcG9uc2VgKTtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBlc3NheWVyIGF2ZWMgdmlld2VyLW1hbmlmZXN0XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgIGAvYXBpL3NoYXJlL2ZpbGUvJHtmaWxlSWR9L3ZpZXdlci1tYW5pZmVzdD90b2tlbj0ke3Rva2VufWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZmFsbGJhY2tSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSBhd2FpdCBmYWxsYmFja1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrRGF0YS5wYWdlVXJscyAmJiBmYWxsYmFja0RhdGEucGFnZVVybHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZmFsbGJhY2tEYXRhLnBhZ2VVcmxzWzBdLm1hdGNoKC9cXC9hcGlcXC9zaGFyZVxcLyhbXi9dKylcXC8vKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUERGUGFnZVZpZXdlcl0gU2hhcmVJZCBleHRyYWl0IGRlcHVpcyBwYWdlVXJsczogJHttYXRjaFsxXX1gKTtcbiAgICAgICAgICAgICAgICAgIHNldFNoYXJlSWQobWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgW1BERlBhZ2VWaWV3ZXJdIEVycmV1ciByw6ljdXDDqXJhdGlvbiBzaGFyZUlkOmAsIGVycm9yRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW1BERlBhZ2VWaWV3ZXJdIEVycmV1ciByw6ljdXDDqXJhdGlvbiBzaGFyZUlkOlwiLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgZmV0Y2hTaGFyZUlkKCk7XG4gIH0sIFtmaWxlSWQsIHRva2VuXSk7XG5cbiAgLy8gUHJvdGVjdGlvbiBnbG9iYWxlIGNvbnRyZSBsZXMgdMOpbMOpY2hhcmdlbWVudHMgZXQgY2FwdHVyZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBCbG9xdWVyIGxlcyByYWNjb3VyY2lzIGNsYXZpZXJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIC8vIEN0cmwrUywgQ3RybCtQLCBDdHJsK0EsIEYxMiwgUHJpbnQgU2NyZWVuLCBldGMuXG4gICAgICBpZiAoXG4gICAgICAgIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiAoZS5rZXkgPT09ICdzJyB8fCBlLmtleSA9PT0gJ3AnIHx8IGUua2V5ID09PSAnYScgfHwgZS5rZXkgPT09ICd1JyB8fCBlLmtleSA9PT0gJ2knKSB8fFxuICAgICAgICBlLmtleSA9PT0gJ0YxMicgfHxcbiAgICAgICAgZS5rZXkgPT09ICdQcmludFNjcmVlbicgfHxcbiAgICAgICAgKGUuc2hpZnRLZXkgJiYgZS5rZXkgPT09ICdGMTInKVxuICAgICAgKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxlIG1lbnUgY29udGV4dHVlbFxuICAgIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51ID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxlIGRyYWcgYW5kIGRyb3BcbiAgICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxhIHPDqWxlY3Rpb24gZGUgdGV4dGVcbiAgICBjb25zdCBoYW5kbGVTZWxlY3RTdGFydCA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxhIGNvcGllXG4gICAgY29uc3QgaGFuZGxlQ29weSA9IChlOiBDbGlwYm9hcmRFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsZSBjbGljIGRyb2l0IGV0IGxlIGNsaWMgZ2F1Y2hlIHN1ciBsZXMgaW1hZ2VzXG4gICAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIC8vIEJsb3F1ZXIgdG91cyBsZXMgY2xpY3Mgc3VyIGxlcyBpbWFnZXNcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnSU1HJyB8fCB0YXJnZXQuY2xvc2VzdCgnaW1nJykpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFqb3V0ZXIgbGVzIMOpY291dGV1cnMgYXZlYyBjYXB0dXJlIHBvdXIgaW50ZXJjZXB0ZXIgdMO0dFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBoYW5kbGVDb250ZXh0TWVudSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZURyYWdTdGFydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgaGFuZGxlU2VsZWN0U3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5JywgaGFuZGxlQ29weSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZU1vdXNlRG93biwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgLy8gRMOpc2FjdGl2ZXIgbGEgc8OpbGVjdGlvbiBkZSB0ZXh0ZSBnbG9iYWxlbWVudFxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgaGFuZGxlQ29udGV4dE1lbnUsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZURyYWdTdGFydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBoYW5kbGVTZWxlY3RTdGFydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29weScsIGhhbmRsZUNvcHksIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZU1vdXNlRG93biwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJyc7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnJztcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gUsOpY3Vww6lyZXIgbGUgc2hhcmVJZCBkZXB1aXMgbCdhbmNpZW5uZSByb3V0ZSB2aWV3ZXItbWFuaWZlc3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFNoYXJlSWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAvYXBpL3NoYXJlL2ZpbGUvJHtmaWxlSWR9L3ZpZXdlci1tYW5pZmVzdD90b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAvLyBFeHRyYWlyZSBsZSBzaGFyZUlkIGRlcHVpcyBsZXMgcGFnZVVybHMgc2kgZGlzcG9uaWJsZXNcbiAgICAgICAgICBpZiAoZGF0YS5wYWdlVXJscyAmJiBkYXRhLnBhZ2VVcmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZGF0YS5wYWdlVXJsc1swXS5tYXRjaCgvXFwvYXBpXFwvc2hhcmVcXC8oW14vXSspXFwvLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgc2V0U2hhcmVJZChtYXRjaFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycmV1ciByw6ljdXDDqXJhdGlvbiBzaGFyZUlkOlwiLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgZmV0Y2hTaGFyZUlkKCk7XG4gIH0sIFtmaWxlSWQsIHRva2VuXSk7XG5cbiAgLy8gQ2hhcmdlciBsZSBtYW5pZmVzdCBhdmVjIHBvbGxpbmcgc2kgZW4gY291cnMgZGUgZ8OpbsOpcmF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzaGFyZUlkKSByZXR1cm47IC8vIEF0dGVuZHJlIHF1ZSBzaGFyZUlkIHNvaXQgZGlzcG9uaWJsZVxuXG4gICAgbGV0IHBvbGxJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgcmV0cnlDb3VudCA9IDA7XG4gICAgY29uc3QgTUFYX1JFVFJJRVMgPSAzMDsgLy8gMzAgdGVudGF0aXZlcyA9IDEgbWludXRlIG1heCAocG9sbGluZyB0b3V0ZXMgbGVzIDJzKVxuXG4gICAgY29uc3QgbG9hZE1hbmlmZXN0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgL2FwaS9zaGFyZS8ke3NoYXJlSWR9L2ZpbGUvJHtmaWxlSWR9L21hbmlmZXN0P3Rva2VuPSR7dG9rZW59YFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEVycmV1ciAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBpZiAocG9sbEludGVydmFsKSBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IFwicHJvY2Vzc2luZ1wiKSB7XG4gICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgIGlmIChyZXRyeUNvdW50ID49IE1BWF9SRVRSSUVTKSB7XG4gICAgICAgICAgICBzZXRFcnJvcihcIkxhIGfDqW7DqXJhdGlvbiBkZXMgcGFnZXMgcHJlbmQgdHJvcCBkZSB0ZW1wcy4gVmV1aWxsZXogcsOpZXNzYXllciBwbHVzIHRhcmQuXCIpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbnRpbnVlciBsZSBwb2xsaW5nXG4gICAgICAgICAgc2V0TWFuaWZlc3QoZGF0YSk7XG4gICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgIHNldEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYWdlcyBwcsOqdGVzICEgQXJyw6p0ZXIgbGUgcG9sbGluZ1xuICAgICAgICBzZXRNYW5pZmVzdChkYXRhKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICAgICAgcG9sbEludGVydmFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQ6XCIsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwiRXJyZXVyIGRlIGNoYXJnZW1lbnRcIik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBpZiAocG9sbEludGVydmFsKSBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChmaWxlSWQgJiYgdG9rZW4gJiYgc2hhcmVJZCkge1xuICAgICAgbG9hZE1hbmlmZXN0KCk7XG4gICAgICAvLyBQb2xsaW5nIHRvdXRlcyBsZXMgMiBzZWNvbmRlc1xuICAgICAgcG9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBsb2FkTWFuaWZlc3QoKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH0gZWxzZSBpZiAoIXNoYXJlSWQpIHtcbiAgICAgIC8vIEF0dGVuZHJlIHF1ZSBzaGFyZUlkIHNvaXQgZGlzcG9uaWJsZVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRFcnJvcihcIlBhcmFtw6h0cmVzIG1hbnF1YW50c1wiKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocG9sbEludGVydmFsKSBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgfTtcbiAgfSwgW2ZpbGVJZCwgdG9rZW4sIHNoYXJlSWRdKTtcblxuICAvLyBMYXp5IGxvYWRpbmcgYXZlYyBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWFuaWZlc3QgfHwgbWFuaWZlc3Quc3RhdHVzICE9PSBcInJlYWR5XCIgfHwgIWNvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBhcnNlSW50KFxuICAgICAgICAgICAgICBlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlLWluZGV4XCIpIHx8IFwiMFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFsb2FkZWRQYWdlc1JlZi5jdXJyZW50LmhhcyhwYWdlSW5kZXgpKSB7XG4gICAgICAgICAgICAgIGxvYWRlZFBhZ2VzUmVmLmN1cnJlbnQuYWRkKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvb3Q6IGNvbnRhaW5lclJlZi5jdXJyZW50LFxuICAgICAgICByb290TWFyZ2luOiBcIjIwMHB4XCIsIC8vIFByw6ljaGFyZ2VyIDIwMHB4IGF2YW50XG4gICAgICAgIHRocmVzaG9sZDogMC4xLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCBwYWdlRWxlbWVudHMgPSBjb250YWluZXJSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcGFnZS1pbmRleF1cIik7XG4gICAgcGFnZUVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XG5cbiAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gb2JzZXJ2ZXI7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFttYW5pZmVzdF0pO1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghbWFuaWZlc3Q/LmRvd25sb2FkQWxsb3dlZCkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2hhcmUvZmlsZS8ke2ZpbGVJZH0vZG93bmxvYWRgLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0b2tlbiB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKGRhdGEuZG93bmxvYWRVcmwpIHtcbiAgICAgICAgd2luZG93Lm9wZW4oZGF0YS5kb3dubG9hZFVybCwgXCJfYmxhbmtcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChkYXRhLmVycm9yIHx8IFwiRXJyZXVyIGxvcnMgZHUgdMOpbMOpY2hhcmdlbWVudFwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGFsZXJ0KFwiRXJyZXVyIGxvcnMgZHUgdMOpbMOpY2hhcmdlbWVudFwiKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcgJiYgIW1hbmlmZXN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1ibGFjay80MCBteC1hdXRvXCIgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmxhY2svNjBcIj5DaGFyZ2VtZW50Li4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTQgbWF4LXctbWQgcHgtNFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCBmb250LW1lZGl1bVwiPntlcnJvcn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghc2hhcmVJZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtYmxhY2svNDAgbXgtYXV0b1wiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsYWNrLzYwXCI+SW5pdGlhbGlzYXRpb24uLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChtYW5pZmVzdD8uc3RhdHVzID09PSBcInByb2Nlc3NpbmdcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtYmxhY2svNDAgbXgtYXV0b1wiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsYWNrLzYwXCI+XG4gICAgICAgICAgICB7bWFuaWZlc3QubWVzc2FnZSB8fCBcIkfDqW7DqXJhdGlvbiBkZXMgcGFnZXMgd2F0ZXJtYXJrw6llcyBlbiBjb3Vycy4uLlwifVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmxhY2svNDBcIj5DZWxhIHBldXQgcHJlbmRyZSBxdWVscXVlcyBpbnN0YW50cyBwb3VyIGxlcyBncm9zIGZpY2hpZXJzPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIW1hbmlmZXN0IHx8IG1hbmlmZXN0LnN0YXR1cyAhPT0gXCJyZWFkeVwiIHx8ICFtYW5pZmVzdC5wYWdlQ291bnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrLzYwXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gR8OpbsOpcmVyIGxlcyBVUkxzIGRlcyBwYWdlc1xuICBjb25zdCBwYWdlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG1hbmlmZXN0LnBhZ2VDb3VudCB9LCAoXywgaSkgPT4gaSArIDEpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgIHsvKiBIZWFkZXIgYXZlYyBib3V0b24gZG93bmxvYWQgc2kgYXV0b3Jpc8OpICovfVxuICAgICAge21hbmlmZXN0LmRvd25sb2FkQWxsb3dlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCB6LTUwXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRG93bmxvYWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmxhY2sgdGV4dC13aGl0ZSByb3VuZGVkLXhsIGZvbnQtbWVkaXVtIGhvdmVyOmJnLWJsYWNrLzkwIHRyYW5zaXRpb24tYWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHNoYWRvdy1sZ1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgVMOpbMOpY2hhcmdlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cblxuICAgICAgey8qIENvbnRhaW5lciBzY3JvbGxhYmxlIGF2ZWMgcGFnZXMgKi99XG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIHJlbGF0aXZlIHotMTBcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiBcInRoaW5cIixcbiAgICAgICAgICBzY3JvbGxiYXJDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDAuMikgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgfX1cbiAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX1cbiAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHB5LTggc3BhY2UteS00XCI+XG4gICAgICAgICAge3BhZ2VzLm1hcCgocGFnZU51bSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBgL2FwaS9zaGFyZS8ke3NoYXJlSWR9L2ZpbGUvJHtmaWxlSWR9L3BhZ2UvJHtwYWdlTnVtfT90b2tlbj0ke3Rva2VufWA7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgZGF0YS1wYWdlLWluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLXdoaXRlIHNoYWRvdy1sZyByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiOTAlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjEyMDBweFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBEw6l0ZWN0ZXIgc2kgYydlc3QgdW4gY2xpYyBvdSB1biBzY3JvbGxcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnIHx8IHRhcmdldC5jbG9zZXN0KCdpbWcnKSkge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpKSB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgey8qIEZpbGlncmFuZSBlbiBvdmVybGF5IChiYWNrdXAgc2kgcGFzIGRhbnMgbCdpbWFnZSkgKi99XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzUwMCcgaGVpZ2h0PSczMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0N0ZXh0IHg9JzUwJTI1JyB5PSc1MCUyNScgZm9udC1zaXplPSczNicgZm9udC13ZWlnaHQ9JzkwMCcgZm9udC1mYW1pbHk9J0FyaWFsLCBzYW5zLXNlcmlmJyBmaWxsPSdyZ2JhKDAsMCwwLDAuMTUpJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkb21pbmFudC1iYXNlbGluZT0nbWlkZGxlJyB0cmFuc2Zvcm09J3JvdGF0ZSgtNDUgMjUwIDE2MCknJTNFQ09ORklERU5USUVMIEFJUkxPQ0slM0MvdGV4dCUzRSUzQy9zdmclM0VcIilgLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJyZXBlYXRcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcIjUwMHB4IDMyMHB4XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgey8qIEltYWdlIGRlIGxhIHBhZ2UgLSBVdGlsaXNlciA8aW1nPiBuYXRpZiAocGFzIE5leHQvSW1hZ2UpIHBvdXIgw6l2aXRlciBsZXMgcHJvYmzDqG1lcyAqL31cbiAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHNyYz17cGFnZVVybH1cbiAgICAgICAgICAgICAgICBhbHQ9e2BQYWdlICR7cGFnZU51bX1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHsvKiBOdW3DqXJvIGRlIHBhZ2UgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCBiZy1ibGFjay81MCB0ZXh0LXdoaXRlIHB4LTMgcHktMSByb3VuZGVkLWxnIHRleHQteHMgZm9udC1tZWRpdW0gei0yMFwiPlxuICAgICAgICAgICAgICAgIFBhZ2Uge3BhZ2VOdW19IC8ge21hbmlmZXN0LnBhZ2VDb3VudH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJtb3Rpb24iLCJMb2FkZXIyIiwiRG93bmxvYWQiLCJQYWdlQ2FudmFzIiwicGFnZVVybCIsInBhZ2VOdW1iZXIiLCJ0b3RhbFBhZ2VzIiwiY2FudmFzUmVmIiwibG9hZGVkIiwic2V0TG9hZGVkIiwiY2FudmFzIiwiY3VycmVudCIsImltZyIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJvbmxvYWQiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2lsbFJlYWRGcmVxdWVudGx5Iiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJvbmVycm9yIiwiY29uc29sZSIsImVycm9yIiwic3JjIiwicHJldmVudEV4cG9ydCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXB0dXJlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsInVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwiV2Via2l0VG91Y2hDYWxsb3V0IiwidG91Y2hBY3Rpb24iLCJpbWFnZVJlbmRlcmluZyIsIm9uQ29udGV4dE1lbnUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvbk1vdXNlRG93biIsIm9uQ2xpY2siLCJvbkRyYWdTdGFydCIsIlBERlBhZ2VWaWV3ZXIiLCJmaWxlSWQiLCJ0b2tlbiIsImZpbGVOYW1lIiwibWFuaWZlc3QiLCJzZXRNYW5pZmVzdCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzaGFyZUlkIiwic2V0U2hhcmVJZCIsImNvbnRhaW5lclJlZiIsIm9ic2VydmVyUmVmIiwibG9hZGVkUGFnZXNSZWYiLCJTZXQiLCJvdmVybGF5UmVmIiwiZmV0Y2hTaGFyZUlkIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZGF0YSIsImpzb24iLCJmYWxsYmFja1Jlc3BvbnNlIiwiZmFsbGJhY2tEYXRhIiwicGFnZVVybHMiLCJsZW5ndGgiLCJtYXRjaCIsImVycm9yRGF0YSIsImVyciIsImhhbmRsZUtleURvd24iLCJjdHJsS2V5IiwibWV0YUtleSIsImtleSIsInNoaWZ0S2V5IiwiaGFuZGxlQ29udGV4dE1lbnUiLCJoYW5kbGVEcmFnU3RhcnQiLCJoYW5kbGVTZWxlY3RTdGFydCIsImhhbmRsZUNvcHkiLCJoYW5kbGVNb3VzZURvd24iLCJ0YXJnZXQiLCJ0YWdOYW1lIiwiY2xvc2VzdCIsImRvY3VtZW50IiwiYm9keSIsIndlYmtpdFVzZXJTZWxlY3QiLCJwb2xsSW50ZXJ2YWwiLCJyZXRyeUNvdW50IiwiTUFYX1JFVFJJRVMiLCJsb2FkTWFuaWZlc3QiLCJzdGF0dXMiLCJjbGVhckludGVydmFsIiwibWVzc2FnZSIsInNldEludGVydmFsIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInBhZ2VJbmRleCIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiaGFzIiwiYWRkIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJwYWdlRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImhhbmRsZURvd25sb2FkIiwiZG93bmxvYWRBbGxvd2VkIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkb3dubG9hZFVybCIsIndpbmRvdyIsIm9wZW4iLCJhbGVydCIsInAiLCJwYWdlQ291bnQiLCJwYWdlcyIsIkFycmF5IiwiZnJvbSIsIl8iLCJpIiwiYnV0dG9uIiwic2Nyb2xsYmFyV2lkdGgiLCJzY3JvbGxiYXJDb2xvciIsIm1hcCIsInBhZ2VOdW0iLCJpbmRleCIsImRhdGEtcGFnZS1pbmRleCIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsImFuaW1hdGUiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJtYXhXaWR0aCIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kU2l6ZSIsImFsdCIsImRyYWdnYWJsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx\n"));

/***/ })

});