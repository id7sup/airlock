"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/share/[token]/view/page",{

/***/ "(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx":
/*!*************************************************!*\
  !*** ./src/components/shared/PDFPageViewer.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFPageViewer: () => (/* binding */ PDFPageViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* __next_internal_client_entry_do_not_use__ PDFPageViewer auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n// Composant pour afficher une page via canvas (plus difficile à sauvegarder)\nfunction PageCanvas({ pageUrl, pageNumber, totalPages }) {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.onload = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    const ctx = canvas.getContext('2d', {\n                        willReadFrequently: false\n                    });\n                    if (!ctx) return;\n                    // Ajuster la taille du canvas à l'image\n                    canvas.width = img.width;\n                    canvas.height = img.height;\n                    // Dessiner l'image\n                    ctx.drawImage(img, 0, 0);\n                    // Désactiver certaines méthodes du canvas pour rendre plus difficile l'export\n                    // (Note: cela ne peut pas être complètement empêché, mais rend plus difficile)\n                    setLoaded(true);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.onerror = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    console.error(`❌ Erreur chargement page ${pageNumber}`);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.src = pageUrl;\n        }\n    }[\"PageCanvas.useEffect\"], [\n        pageUrl,\n        pageNumber\n    ]);\n    // Protection supplémentaire : empêcher l'export du canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const preventExport = {\n                \"PageCanvas.useEffect.preventExport\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PageCanvas.useEffect.preventExport\"];\n            // Bloquer les événements sur le canvas\n            canvas.addEventListener('contextmenu', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('mousedown', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('click', preventExport, {\n                capture: true\n            });\n            return ({\n                \"PageCanvas.useEffect\": ()=>{\n                    canvas.removeEventListener('contextmenu', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('mousedown', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('click', preventExport, {\n                        capture: true\n                    });\n                }\n            })[\"PageCanvas.useEffect\"];\n        }\n    }[\"PageCanvas.useEffect\"], [\n        loaded\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                className: \"w-full h-auto block\",\n                style: {\n                    pointerEvents: \"none\",\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    WebkitTouchCallout: \"none\",\n                    touchAction: \"none\",\n                    imageRendering: \"high-quality\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onMouseDown: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            !loaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    className: \"w-6 h-6 animate-spin text-black/40\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\n_s(PageCanvas, \"4mBQWWl8obzKs4C+yM1x3Qp8zJM=\");\n_c = PageCanvas;\nfunction PDFPageViewer({ fileId, token, fileName }) {\n    _s1();\n    const [manifest, setManifest] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [shareId, setShareId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loadedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Récupérer le shareId depuis le token via l'API viewer-manifest\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            const fetchShareId = {\n                \"PDFPageViewer.useEffect.fetchShareId\": async ()=>{\n                    try {\n                        console.log(`[PDFPageViewer] Récupération shareId pour fileId=${fileId}...`);\n                        const response = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                        if (response.ok) {\n                            const data = await response.json();\n                            console.log(`[PDFPageViewer] Données reçues:`, data);\n                            // Extraire le shareId depuis les pageUrls si disponibles\n                            if (data.pageUrls && data.pageUrls.length > 0) {\n                                const match = data.pageUrls[0].match(/\\/api\\/share\\/([^/]+)\\//);\n                                if (match && match[1]) {\n                                    console.log(`[PDFPageViewer] ShareId extrait: ${match[1]}`);\n                                    setShareId(match[1]);\n                                    return;\n                                }\n                            }\n                            // Si pas de pageUrls, essayer de récupérer depuis l'API directement\n                            // On peut aussi utiliser l'API public/view/info qui retourne le shareId\n                            console.log(`[PDFPageViewer] Pas de pageUrls, tentative alternative...`);\n                        } else {\n                            const errorData = await response.json();\n                            console.error(`[PDFPageViewer] Erreur récupération shareId:`, errorData);\n                        }\n                    } catch (err) {\n                        console.error(\"[PDFPageViewer] Erreur récupération shareId:\", err);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.fetchShareId\"];\n            fetchShareId();\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Protection globale contre les téléchargements et captures\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            // Bloquer les raccourcis clavier\n            const handleKeyDown = {\n                \"PDFPageViewer.useEffect.handleKeyDown\": (e)=>{\n                    // Ctrl+S, Ctrl+P, Ctrl+A, F12, Print Screen, etc.\n                    if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'p' || e.key === 'a' || e.key === 'u' || e.key === 'i') || e.key === 'F12' || e.key === 'PrintScreen' || e.shiftKey && e.key === 'F12') {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleKeyDown\"];\n            // Bloquer le menu contextuel\n            const handleContextMenu = {\n                \"PDFPageViewer.useEffect.handleContextMenu\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleContextMenu\"];\n            // Bloquer le drag and drop\n            const handleDragStart = {\n                \"PDFPageViewer.useEffect.handleDragStart\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleDragStart\"];\n            // Bloquer la sélection de texte\n            const handleSelectStart = {\n                \"PDFPageViewer.useEffect.handleSelectStart\": (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleSelectStart\"];\n            // Bloquer la copie\n            const handleCopy = {\n                \"PDFPageViewer.useEffect.handleCopy\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleCopy\"];\n            // Bloquer le clic droit et le clic gauche sur les images\n            const handleMouseDown = {\n                \"PDFPageViewer.useEffect.handleMouseDown\": (e)=>{\n                    // Bloquer tous les clics sur les images\n                    const target = e.target;\n                    if (target.tagName === 'IMG' || target.closest('img')) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleMouseDown\"];\n            // Ajouter les écouteurs avec capture pour intercepter tôt\n            document.addEventListener('keydown', handleKeyDown, {\n                capture: true\n            });\n            document.addEventListener('contextmenu', handleContextMenu, {\n                capture: true\n            });\n            document.addEventListener('dragstart', handleDragStart, {\n                capture: true\n            });\n            document.addEventListener('selectstart', handleSelectStart, {\n                capture: true\n            });\n            document.addEventListener('copy', handleCopy, {\n                capture: true\n            });\n            document.addEventListener('mousedown', handleMouseDown, {\n                capture: true\n            });\n            // Désactiver la sélection de texte globalement\n            document.body.style.userSelect = 'none';\n            document.body.style.webkitUserSelect = 'none';\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    document.removeEventListener('keydown', handleKeyDown, {\n                        capture: true\n                    });\n                    document.removeEventListener('contextmenu', handleContextMenu, {\n                        capture: true\n                    });\n                    document.removeEventListener('dragstart', handleDragStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('selectstart', handleSelectStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('copy', handleCopy, {\n                        capture: true\n                    });\n                    document.removeEventListener('mousedown', handleMouseDown, {\n                        capture: true\n                    });\n                    document.body.style.userSelect = '';\n                    document.body.style.webkitUserSelect = '';\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], []);\n    // Récupérer le shareId depuis l'ancienne route viewer-manifest\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            const fetchShareId = {\n                \"PDFPageViewer.useEffect.fetchShareId\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                        if (response.ok) {\n                            const data = await response.json();\n                            // Extraire le shareId depuis les pageUrls si disponibles\n                            if (data.pageUrls && data.pageUrls.length > 0) {\n                                const match = data.pageUrls[0].match(/\\/api\\/share\\/([^/]+)\\//);\n                                if (match) {\n                                    setShareId(match[1]);\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur récupération shareId:\", err);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.fetchShareId\"];\n            fetchShareId();\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Charger le manifest avec polling si en cours de génération\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!shareId) return; // Attendre que shareId soit disponible\n            let pollInterval = null;\n            let retryCount = 0;\n            const MAX_RETRIES = 30; // 30 tentatives = 1 minute max (polling toutes les 2s)\n            const loadManifest = {\n                \"PDFPageViewer.useEffect.loadManifest\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/${shareId}/file/${fileId}/manifest?token=${token}`);\n                        if (!response.ok) {\n                            const errorData = await response.json();\n                            setError(errorData.error || `Erreur ${response.status}`);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        const data = await response.json();\n                        if (data.status === \"processing\") {\n                            retryCount++;\n                            if (retryCount >= MAX_RETRIES) {\n                                setError(\"La génération des pages prend trop de temps. Veuillez réessayer plus tard.\");\n                                setLoading(false);\n                                return;\n                            }\n                            // Continuer le polling\n                            setManifest(data);\n                            setLoading(true);\n                            return;\n                        }\n                        if (data.error) {\n                            setError(data.error);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        // Pages prêtes ! Arrêter le polling\n                        setManifest(data);\n                        setLoading(false);\n                        if (pollInterval) {\n                            clearInterval(pollInterval);\n                            pollInterval = null;\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur lors du chargement:\", err);\n                        setError(err.message || \"Erreur de chargement\");\n                        setLoading(false);\n                        if (pollInterval) clearInterval(pollInterval);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.loadManifest\"];\n            if (fileId && token && shareId) {\n                loadManifest();\n                // Polling toutes les 2 secondes\n                pollInterval = setInterval({\n                    \"PDFPageViewer.useEffect\": ()=>{\n                        loadManifest();\n                    }\n                }[\"PDFPageViewer.useEffect\"], 2000);\n            } else if (!shareId) {\n                // Attendre que shareId soit disponible\n                return;\n            } else {\n                setError(\"Paramètres manquants\");\n                setLoading(false);\n            }\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    if (pollInterval) clearInterval(pollInterval);\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token,\n        shareId\n    ]);\n    // Lazy loading avec IntersectionObserver\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!manifest || manifest.status !== \"ready\" || !containerRef.current) return;\n            const observer = new IntersectionObserver({\n                \"PDFPageViewer.useEffect\": (entries)=>{\n                    entries.forEach({\n                        \"PDFPageViewer.useEffect\": (entry)=>{\n                            if (entry.isIntersecting) {\n                                const pageIndex = parseInt(entry.target.getAttribute(\"data-page-index\") || \"0\");\n                                if (!loadedPagesRef.current.has(pageIndex)) {\n                                    loadedPagesRef.current.add(pageIndex);\n                                }\n                            }\n                        }\n                    }[\"PDFPageViewer.useEffect\"]);\n                }\n            }[\"PDFPageViewer.useEffect\"], {\n                root: containerRef.current,\n                rootMargin: \"200px\",\n                threshold: 0.1\n            });\n            const pageElements = containerRef.current.querySelectorAll(\"[data-page-index]\");\n            pageElements.forEach({\n                \"PDFPageViewer.useEffect\": (el)=>observer.observe(el)\n            }[\"PDFPageViewer.useEffect\"]);\n            observerRef.current = observer;\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    observer.disconnect();\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        manifest\n    ]);\n    const handleDownload = async ()=>{\n        if (!manifest?.downloadAllowed) return;\n        try {\n            const response = await fetch(`/api/share/file/${fileId}/download`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    token\n                })\n            });\n            const data = await response.json();\n            if (data.downloadUrl) {\n                window.open(data.downloadUrl, \"_blank\");\n            } else {\n                alert(data.error || \"Erreur lors du téléchargement\");\n            }\n        } catch (err) {\n            alert(\"Erreur lors du téléchargement\");\n        }\n    };\n    if (loading && !manifest) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 413,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Chargement...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 414,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 412,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 411,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4 max-w-md px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-500 font-medium\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 424,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 423,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 422,\n            columnNumber: 7\n        }, this);\n    }\n    if (!shareId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 434,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Initialisation...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 435,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 433,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 432,\n            columnNumber: 7\n        }, this);\n    }\n    if (manifest?.status === \"processing\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 445,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: manifest.message || \"Génération des pages watermarkées en cours...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 446,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-black/40\",\n                        children: \"Cela peut prendre quelques instants pour les gros fichiers\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 449,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 444,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 443,\n            columnNumber: 7\n        }, this);\n    }\n    if (!manifest || manifest.status !== \"ready\" || !manifest.pageCount) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-black/60\",\n                    children: \"Aucune page disponible\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 459,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 458,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 457,\n            columnNumber: 7\n        }, this);\n    }\n    // Générer les URLs des pages\n    const pages = Array.from({\n        length: manifest.pageCount\n    }, (_, i)=>i + 1);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full flex flex-col\",\n        children: [\n            manifest.downloadAllowed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleDownload,\n                    className: \"px-4 py-2 bg-black text-white rounded-xl font-medium hover:bg-black/90 transition-all flex items-center gap-2 shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 477,\n                            columnNumber: 13\n                        }, this),\n                        \"T\\xe9l\\xe9charger\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 473,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 472,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                className: \"flex-1 overflow-y-auto overflow-x-hidden relative z-10\",\n                style: {\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    scrollbarWidth: \"thin\",\n                    scrollbarColor: \"rgba(0, 0, 0, 0.2) transparent\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center py-8 space-y-4\",\n                    children: pages.map((pageNum, index)=>{\n                        const pageUrl = `/api/share/${shareId}/file/${fileId}/page/${pageNum}?token=${token}`;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                            \"data-page-index\": index,\n                            initial: {\n                                opacity: 0,\n                                y: 20\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                duration: 0.3\n                            },\n                            className: \"relative bg-white shadow-lg rounded-lg overflow-hidden\",\n                            style: {\n                                maxWidth: \"90%\",\n                                width: \"100%\",\n                                maxWidth: \"1200px\"\n                            },\n                            onContextMenu: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                e.stopImmediatePropagation();\n                                return false;\n                            },\n                            onMouseDown: (e)=>{\n                                // Détecter si c'est un clic ou un scroll\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onClick: (e)=>{\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onDragStart: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                return false;\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none z-10\",\n                                    style: {\n                                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='500' height='320' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='36' font-weight='900' font-family='Arial, sans-serif' fill='rgba(0,0,0,0.15)' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45 250 160)'%3ECONFIDENTIEL AIRLOCK%3C/text%3E%3C/svg%3E\")`,\n                                        backgroundRepeat: \"repeat\",\n                                        backgroundSize: \"500px 320px\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: pageUrl,\n                                    alt: `Page ${pageNum}`,\n                                    className: \"w-full h-auto block\",\n                                    loading: \"lazy\",\n                                    draggable: false,\n                                    style: {\n                                        pointerEvents: \"none\",\n                                        userSelect: \"none\",\n                                        WebkitUserSelect: \"none\"\n                                    },\n                                    onContextMenu: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        return false;\n                                    },\n                                    onDragStart: (e)=>{\n                                        e.preventDefault();\n                                        return false;\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 563,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-lg text-xs font-medium z-20\",\n                                    children: [\n                                        \"Page \",\n                                        pageNum,\n                                        \" / \",\n                                        manifest.pageCount\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 585,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 510,\n                            columnNumber: 13\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 506,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 485,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 469,\n        columnNumber: 5\n    }, this);\n}\n_s1(PDFPageViewer, \"iTOmmhl1JvtMMSgY7D7tYnDShs8=\");\n_c1 = PDFPageViewer;\nvar _c, _c1;\n$RefreshReg$(_c, \"PageCanvas\");\n$RefreshReg$(_c1, \"PDFPageViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3NoYXJlZC9QREZQYWdlVmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUU7QUFDMUI7QUFDVTtBQUVqRCw2RUFBNkU7QUFDN0UsU0FBU00sV0FBVyxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUErRDs7SUFDbEgsTUFBTUMsWUFBWVIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sQ0FBQ1MsUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUVyQ0QsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNRSxNQUFNLElBQUlDO1lBQ2hCRCxJQUFJRSxXQUFXLEdBQUc7WUFFbEJGLElBQUlHLE1BQU07d0NBQUc7b0JBQ1gsTUFBTUMsTUFBTU4sT0FBT08sVUFBVSxDQUFDLE1BQU07d0JBQUVDLG9CQUFvQjtvQkFBTTtvQkFDaEUsSUFBSSxDQUFDRixLQUFLO29CQUVWLHdDQUF3QztvQkFDeENOLE9BQU9TLEtBQUssR0FBR1AsSUFBSU8sS0FBSztvQkFDeEJULE9BQU9VLE1BQU0sR0FBR1IsSUFBSVEsTUFBTTtvQkFFMUIsbUJBQW1CO29CQUNuQkosSUFBSUssU0FBUyxDQUFDVCxLQUFLLEdBQUc7b0JBRXRCLDhFQUE4RTtvQkFDOUUsK0VBQStFO29CQUMvRUgsVUFBVTtnQkFDWjs7WUFFQUcsSUFBSVUsT0FBTzt3Q0FBRztvQkFDWkMsUUFBUUMsS0FBSyxDQUFDLENBQUMseUJBQXlCLEVBQUVuQixZQUFZO2dCQUN4RDs7WUFFQU8sSUFBSWEsR0FBRyxHQUFHckI7UUFDWjsrQkFBRztRQUFDQTtRQUFTQztLQUFXO0lBRXhCLDBEQUEwRDtJQUMxRFIsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNZ0I7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QUVDLGNBQWM7d0NBQ2hCRCxFQUFFRSxlQUFlO3dDQUNqQixPQUFPO29DQUNUO29DQUNBa0IsYUFBYSxDQUFDcEI7d0NBQ1pBLEVBQUVDLGNBQWM7d0NBQ2hCLE9BQU87b0NBQ1Q7Ozs7Ozs4Q0FHRiw4REFBQ0s7b0NBQUlDLFdBQVU7O3dDQUFpRzt3Q0FDeEcwRzt3Q0FBUTt3Q0FBSXhGLFNBQVM4RSxTQUFTOzs7Ozs7OzsyQkEzRWpDVzs7Ozs7b0JBK0VUOzs7Ozs7Ozs7Ozs7Ozs7OztBQUtWO0lBeGRnQjdGO01BQUFBIiwic291cmNlcyI6WyIvVXNlcnMvam9zZXBobWljaGF1dC9EZXNrdG9wL2FpcmxvY2svc3JjL2NvbXBvbmVudHMvc2hhcmVkL1BERlBhZ2VWaWV3ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuaW1wb3J0IHsgTG9hZGVyMiwgRG93bmxvYWQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbi8vIENvbXBvc2FudCBwb3VyIGFmZmljaGVyIHVuZSBwYWdlIHZpYSBjYW52YXMgKHBsdXMgZGlmZmljaWxlIMOgIHNhdXZlZ2FyZGVyKVxuZnVuY3Rpb24gUGFnZUNhbnZhcyh7IHBhZ2VVcmwsIHBhZ2VOdW1iZXIsIHRvdGFsUGFnZXMgfTogeyBwYWdlVXJsOiBzdHJpbmc7IHBhZ2VOdW1iZXI6IG51bWJlcjsgdG90YWxQYWdlczogbnVtYmVyIH0pIHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiBmYWxzZSB9KTtcbiAgICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICAgIC8vIEFqdXN0ZXIgbGEgdGFpbGxlIGR1IGNhbnZhcyDDoCBsJ2ltYWdlXG4gICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcblxuICAgICAgLy8gRGVzc2luZXIgbCdpbWFnZVxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuXG4gICAgICAvLyBEw6lzYWN0aXZlciBjZXJ0YWluZXMgbcOpdGhvZGVzIGR1IGNhbnZhcyBwb3VyIHJlbmRyZSBwbHVzIGRpZmZpY2lsZSBsJ2V4cG9ydFxuICAgICAgLy8gKE5vdGU6IGNlbGEgbmUgcGV1dCBwYXMgw6p0cmUgY29tcGzDqHRlbWVudCBlbXDDqmNow6ksIG1haXMgcmVuZCBwbHVzIGRpZmZpY2lsZSlcbiAgICAgIHNldExvYWRlZCh0cnVlKTtcbiAgICB9O1xuXG4gICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyZXVyIGNoYXJnZW1lbnQgcGFnZSAke3BhZ2VOdW1iZXJ9YCk7XG4gICAgfTtcblxuICAgIGltZy5zcmMgPSBwYWdlVXJsO1xuICB9LCBbcGFnZVVybCwgcGFnZU51bWJlcl0pO1xuXG4gIC8vIFByb3RlY3Rpb24gc3VwcGzDqW1lbnRhaXJlIDogZW1ww6pjaGVyIGwnZXhwb3J0IGR1IGNhbnZhc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCBwcmV2ZW50RXhwb3J0ID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxlcyDDqXbDqW5lbWVudHMgc3VyIGxlIGNhbnZhc1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH07XG4gIH0sIFtsb2FkZWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsXCI+XG4gICAgICA8Y2FudmFzXG4gICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGJsb2NrXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBXZWJraXRVc2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBXZWJraXRUb3VjaENhbGxvdXQ6IFwibm9uZVwiLFxuICAgICAgICAgIHRvdWNoQWN0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICBpbWFnZVJlbmRlcmluZzogXCJoaWdoLXF1YWxpdHlcIixcbiAgICAgICAgfX1cbiAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX1cbiAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgeyFsb2FkZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0xMDBcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTYgaC02IGFuaW1hdGUtc3BpbiB0ZXh0LWJsYWNrLzQwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5pbnRlcmZhY2UgUERGUGFnZVZpZXdlclByb3BzIHtcbiAgZmlsZUlkOiBzdHJpbmc7XG4gIHRva2VuOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYW5pZmVzdCB7XG4gIHN0YXR1czogXCJyZWFkeVwiIHwgXCJwcm9jZXNzaW5nXCI7XG4gIHBhZ2VDb3VudD86IG51bWJlcjtcbiAgZG93bmxvYWRBbGxvd2VkPzogYm9vbGVhbjtcbiAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBERlBhZ2VWaWV3ZXIoeyBmaWxlSWQsIHRva2VuLCBmaWxlTmFtZSB9OiBQREZQYWdlVmlld2VyUHJvcHMpIHtcbiAgY29uc3QgW21hbmlmZXN0LCBzZXRNYW5pZmVzdF0gPSB1c2VTdGF0ZTxNYW5pZmVzdCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NoYXJlSWQsIHNldFNoYXJlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IG9ic2VydmVyUmVmID0gdXNlUmVmPEludGVyc2VjdGlvbk9ic2VydmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxvYWRlZFBhZ2VzUmVmID0gdXNlUmVmPFNldDxudW1iZXI+PihuZXcgU2V0KCkpO1xuICBjb25zdCBvdmVybGF5UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICAvLyBSw6ljdXDDqXJlciBsZSBzaGFyZUlkIGRlcHVpcyBsZSB0b2tlbiB2aWEgbCdBUEkgdmlld2VyLW1hbmlmZXN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hTaGFyZUlkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coYFtQREZQYWdlVmlld2VyXSBSw6ljdXDDqXJhdGlvbiBzaGFyZUlkIHBvdXIgZmlsZUlkPSR7ZmlsZUlkfS4uLmApO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAvYXBpL3NoYXJlL2ZpbGUvJHtmaWxlSWR9L3ZpZXdlci1tYW5pZmVzdD90b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW1BERlBhZ2VWaWV3ZXJdIERvbm7DqWVzIHJlw6d1ZXM6YCwgZGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRXh0cmFpcmUgbGUgc2hhcmVJZCBkZXB1aXMgbGVzIHBhZ2VVcmxzIHNpIGRpc3BvbmlibGVzXG4gICAgICAgICAgaWYgKGRhdGEucGFnZVVybHMgJiYgZGF0YS5wYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IGRhdGEucGFnZVVybHNbMF0ubWF0Y2goL1xcL2FwaVxcL3NoYXJlXFwvKFteL10rKVxcLy8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUERGUGFnZVZpZXdlcl0gU2hhcmVJZCBleHRyYWl0OiAke21hdGNoWzFdfWApO1xuICAgICAgICAgICAgICBzZXRTaGFyZUlkKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaSBwYXMgZGUgcGFnZVVybHMsIGVzc2F5ZXIgZGUgcsOpY3Vww6lyZXIgZGVwdWlzIGwnQVBJIGRpcmVjdGVtZW50XG4gICAgICAgICAgLy8gT24gcGV1dCBhdXNzaSB1dGlsaXNlciBsJ0FQSSBwdWJsaWMvdmlldy9pbmZvIHF1aSByZXRvdXJuZSBsZSBzaGFyZUlkXG4gICAgICAgICAgY29uc29sZS5sb2coYFtQREZQYWdlVmlld2VyXSBQYXMgZGUgcGFnZVVybHMsIHRlbnRhdGl2ZSBhbHRlcm5hdGl2ZS4uLmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbUERGUGFnZVZpZXdlcl0gRXJyZXVyIHLDqWN1cMOpcmF0aW9uIHNoYXJlSWQ6YCwgZXJyb3JEYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUERGUGFnZVZpZXdlcl0gRXJyZXVyIHLDqWN1cMOpcmF0aW9uIHNoYXJlSWQ6XCIsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBmZXRjaFNoYXJlSWQoKTtcbiAgfSwgW2ZpbGVJZCwgdG9rZW5dKTtcblxuICAvLyBQcm90ZWN0aW9uIGdsb2JhbGUgY29udHJlIGxlcyB0w6lsw6ljaGFyZ2VtZW50cyBldCBjYXB0dXJlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEJsb3F1ZXIgbGVzIHJhY2NvdXJjaXMgY2xhdmllclxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgLy8gQ3RybCtTLCBDdHJsK1AsIEN0cmwrQSwgRjEyLCBQcmludCBTY3JlZW4sIGV0Yy5cbiAgICAgIGlmIChcbiAgICAgICAgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIChlLmtleSA9PT0gJ3MnIHx8IGUua2V5ID09PSAncCcgfHwgZS5rZXkgPT09ICdhJyB8fCBlLmtleSA9PT0gJ3UnIHx8IGUua2V5ID09PSAnaScpIHx8XG4gICAgICAgIGUua2V5ID09PSAnRjEyJyB8fFxuICAgICAgICBlLmtleSA9PT0gJ1ByaW50U2NyZWVuJyB8fFxuICAgICAgICAoZS5zaGlmdEtleSAmJiBlLmtleSA9PT0gJ0YxMicpXG4gICAgICApIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGUgbWVudSBjb250ZXh0dWVsXG4gICAgY29uc3QgaGFuZGxlQ29udGV4dE1lbnUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGUgZHJhZyBhbmQgZHJvcFxuICAgIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9IChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGEgc8OpbGVjdGlvbiBkZSB0ZXh0ZVxuICAgIGNvbnN0IGhhbmRsZVNlbGVjdFN0YXJ0ID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGEgY29waWVcbiAgICBjb25zdCBoYW5kbGVDb3B5ID0gKGU6IENsaXBib2FyZEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxlIGNsaWMgZHJvaXQgZXQgbGUgY2xpYyBnYXVjaGUgc3VyIGxlcyBpbWFnZXNcbiAgICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgLy8gQmxvcXVlciB0b3VzIGxlcyBjbGljcyBzdXIgbGVzIGltYWdlc1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnIHx8IHRhcmdldC5jbG9zZXN0KCdpbWcnKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQWpvdXRlciBsZXMgw6ljb3V0ZXVycyBhdmVjIGNhcHR1cmUgcG91ciBpbnRlcmNlcHRlciB0w7R0XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZUNvbnRleHRNZW51LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBoYW5kbGVTZWxlY3RTdGFydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvcHknLCBoYW5kbGVDb3B5LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlTW91c2VEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBEw6lzYWN0aXZlciBsYSBzw6lsZWN0aW9uIGRlIHRleHRlIGdsb2JhbGVtZW50XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VXNlclNlbGVjdCA9ICdub25lJztcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93biwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBoYW5kbGVDb250ZXh0TWVudSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGhhbmRsZVNlbGVjdFN0YXJ0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgaGFuZGxlQ29weSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlTW91c2VEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VXNlclNlbGVjdCA9ICcnO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBSw6ljdXDDqXJlciBsZSBzaGFyZUlkIGRlcHVpcyBsJ2FuY2llbm5lIHJvdXRlIHZpZXdlci1tYW5pZmVzdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoU2hhcmVJZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYC9hcGkvc2hhcmUvZmlsZS8ke2ZpbGVJZH0vdmlld2VyLW1hbmlmZXN0P3Rva2VuPSR7dG9rZW59YFxuICAgICAgICApO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIC8vIEV4dHJhaXJlIGxlIHNoYXJlSWQgZGVwdWlzIGxlcyBwYWdlVXJscyBzaSBkaXNwb25pYmxlc1xuICAgICAgICAgIGlmIChkYXRhLnBhZ2VVcmxzICYmIGRhdGEucGFnZVVybHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBkYXRhLnBhZ2VVcmxzWzBdLm1hdGNoKC9cXC9hcGlcXC9zaGFyZVxcLyhbXi9dKylcXC8vKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICBzZXRTaGFyZUlkKG1hdGNoWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIHLDqWN1cMOpcmF0aW9uIHNoYXJlSWQ6XCIsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBmZXRjaFNoYXJlSWQoKTtcbiAgfSwgW2ZpbGVJZCwgdG9rZW5dKTtcblxuICAvLyBDaGFyZ2VyIGxlIG1hbmlmZXN0IGF2ZWMgcG9sbGluZyBzaSBlbiBjb3VycyBkZSBnw6luw6lyYXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNoYXJlSWQpIHJldHVybjsgLy8gQXR0ZW5kcmUgcXVlIHNoYXJlSWQgc29pdCBkaXNwb25pYmxlXG5cbiAgICBsZXQgcG9sbEludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICAgIGxldCByZXRyeUNvdW50ID0gMDtcbiAgICBjb25zdCBNQVhfUkVUUklFUyA9IDMwOyAvLyAzMCB0ZW50YXRpdmVzID0gMSBtaW51dGUgbWF4IChwb2xsaW5nIHRvdXRlcyBsZXMgMnMpXG5cbiAgICBjb25zdCBsb2FkTWFuaWZlc3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAvYXBpL3NoYXJlLyR7c2hhcmVJZH0vZmlsZS8ke2ZpbGVJZH0vbWFuaWZlc3Q/dG9rZW49JHt0b2tlbn1gXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIHNldEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBgRXJyZXVyICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gXCJwcm9jZXNzaW5nXCIpIHtcbiAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICAgIHNldEVycm9yKFwiTGEgZ8OpbsOpcmF0aW9uIGRlcyBwYWdlcyBwcmVuZCB0cm9wIGRlIHRlbXBzLiBWZXVpbGxleiByw6llc3NheWVyIHBsdXMgdGFyZC5cIik7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29udGludWVyIGxlIHBvbGxpbmdcbiAgICAgICAgICBzZXRNYW5pZmVzdChkYXRhKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgc2V0RXJyb3IoZGF0YS5lcnJvcik7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgaWYgKHBvbGxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhZ2VzIHByw6p0ZXMgISBBcnLDqnRlciBsZSBwb2xsaW5nXG4gICAgICAgIHNldE1hbmlmZXN0KGRhdGEpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgaWYgKHBvbGxJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICAgICAgICBwb2xsSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudDpcIiwgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJFcnJldXIgZGUgY2hhcmdlbWVudFwiKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGZpbGVJZCAmJiB0b2tlbiAmJiBzaGFyZUlkKSB7XG4gICAgICBsb2FkTWFuaWZlc3QoKTtcbiAgICAgIC8vIFBvbGxpbmcgdG91dGVzIGxlcyAyIHNlY29uZGVzXG4gICAgICBwb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGxvYWRNYW5pZmVzdCgpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfSBlbHNlIGlmICghc2hhcmVJZCkge1xuICAgICAgLy8gQXR0ZW5kcmUgcXVlIHNoYXJlSWQgc29pdCBkaXNwb25pYmxlXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEVycm9yKFwiUGFyYW3DqHRyZXMgbWFucXVhbnRzXCIpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICB9O1xuICB9LCBbZmlsZUlkLCB0b2tlbiwgc2hhcmVJZF0pO1xuXG4gIC8vIExhenkgbG9hZGluZyBhdmVjIEludGVyc2VjdGlvbk9ic2VydmVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYW5pZmVzdCB8fCBtYW5pZmVzdC5zdGF0dXMgIT09IFwicmVhZHlcIiB8fCAhY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gcGFyc2VJbnQoXG4gICAgICAgICAgICAgIGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2UtaW5kZXhcIikgfHwgXCIwXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIWxvYWRlZFBhZ2VzUmVmLmN1cnJlbnQuaGFzKHBhZ2VJbmRleCkpIHtcbiAgICAgICAgICAgICAgbG9hZGVkUGFnZXNSZWYuY3VycmVudC5hZGQocGFnZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9vdDogY29udGFpbmVyUmVmLmN1cnJlbnQsXG4gICAgICAgIHJvb3RNYXJnaW46IFwiMjAwcHhcIiwgLy8gUHLDqWNoYXJnZXIgMjAwcHggYXZhbnRcbiAgICAgICAgdGhyZXNob2xkOiAwLjEsXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHBhZ2VFbGVtZW50cyA9IGNvbnRhaW5lclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wYWdlLWluZGV4XVwiKTtcbiAgICBwYWdlRWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcblxuICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBvYnNlcnZlcjtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW21hbmlmZXN0XSk7XG5cbiAgY29uc3QgaGFuZGxlRG93bmxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFtYW5pZmVzdD8uZG93bmxvYWRBbGxvd2VkKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaGFyZS9maWxlLyR7ZmlsZUlkfS9kb3dubG9hZGAsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRva2VuIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5kb3dubG9hZFVybCkge1xuICAgICAgICB3aW5kb3cub3BlbihkYXRhLmRvd25sb2FkVXJsLCBcIl9ibGFua1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KGRhdGEuZXJyb3IgfHwgXCJFcnJldXIgbG9ycyBkdSB0w6lsw6ljaGFyZ2VtZW50XCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWxlcnQoXCJFcnJldXIgbG9ycyBkdSB0w6lsw6ljaGFyZ2VtZW50XCIpO1xuICAgIH1cbiAgfTtcblxuICBpZiAobG9hZGluZyAmJiAhbWFuaWZlc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiB0ZXh0LWJsYWNrLzQwIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibGFjay82MFwiPkNoYXJnZW1lbnQuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNCBtYXgtdy1tZCBweC00XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwIGZvbnQtbWVkaXVtXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFzaGFyZUlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1ibGFjay80MCBteC1hdXRvXCIgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmxhY2svNjBcIj5Jbml0aWFsaXNhdGlvbi4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKG1hbmlmZXN0Py5zdGF0dXMgPT09IFwicHJvY2Vzc2luZ1wiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1ibGFjay80MCBteC1hdXRvXCIgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmxhY2svNjBcIj5cbiAgICAgICAgICAgIHttYW5pZmVzdC5tZXNzYWdlIHx8IFwiR8OpbsOpcmF0aW9uIGRlcyBwYWdlcyB3YXRlcm1hcmvDqWVzIGVuIGNvdXJzLi4uXCJ9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibGFjay80MFwiPkNlbGEgcGV1dCBwcmVuZHJlIHF1ZWxxdWVzIGluc3RhbnRzIHBvdXIgbGVzIGdyb3MgZmljaGllcnM8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghbWFuaWZlc3QgfHwgbWFuaWZlc3Quc3RhdHVzICE9PSBcInJlYWR5XCIgfHwgIW1hbmlmZXN0LnBhZ2VDb3VudCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktMlwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmxhY2svNjBcIj5BdWN1bmUgcGFnZSBkaXNwb25pYmxlPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBHw6luw6lyZXIgbGVzIFVSTHMgZGVzIHBhZ2VzXG4gIGNvbnN0IHBhZ2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbWFuaWZlc3QucGFnZUNvdW50IH0sIChfLCBpKSA9PiBpICsgMSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgey8qIEhlYWRlciBhdmVjIGJvdXRvbiBkb3dubG9hZCBzaSBhdXRvcmlzw6kgKi99XG4gICAgICB7bWFuaWZlc3QuZG93bmxvYWRBbGxvd2VkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHotNTBcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibGFjayB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgZm9udC1tZWRpdW0gaG92ZXI6YmctYmxhY2svOTAgdHJhbnNpdGlvbi1hbGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc2hhZG93LWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICBUw6lsw6ljaGFyZ2VyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuXG4gICAgICB7LyogQ29udGFpbmVyIHNjcm9sbGFibGUgYXZlYyBwYWdlcyAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gb3ZlcmZsb3cteC1oaWRkZW4gcmVsYXRpdmUgei0xMFwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6IFwidGhpblwiLFxuICAgICAgICAgIHNjcm9sbGJhckNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMC4yKSB0cmFuc3BhcmVudFwiLFxuICAgICAgICB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcHktOCBzcGFjZS15LTRcIj5cbiAgICAgICAgICB7cGFnZXMubWFwKChwYWdlTnVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZVVybCA9IGAvYXBpL3NoYXJlLyR7c2hhcmVJZH0vZmlsZS8ke2ZpbGVJZH0vcGFnZS8ke3BhZ2VOdW19P3Rva2VuPSR7dG9rZW59YDtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICBkYXRhLXBhZ2UtaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctd2hpdGUgc2hhZG93LWxnIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI5MCVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTIwMHB4XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIETDqXRlY3RlciBzaSBjJ2VzdCB1biBjbGljIG91IHVuIHNjcm9sbFxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpKSB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnSU1HJyB8fCB0YXJnZXQuY2xvc2VzdCgnaW1nJykpIHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7LyogRmlsaWdyYW5lIGVuIG92ZXJsYXkgKGJhY2t1cCBzaSBwYXMgZGFucyBsJ2ltYWdlKSAqL31cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB3aWR0aD0nNTAwJyBoZWlnaHQ9JzMyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3RleHQgeD0nNTAlMjUnIHk9JzUwJTI1JyBmb250LXNpemU9JzM2JyBmb250LXdlaWdodD0nOTAwJyBmb250LWZhbWlseT0nQXJpYWwsIHNhbnMtc2VyaWYnIGZpbGw9J3JnYmEoMCwwLDAsMC4xNSknIHRleHQtYW5jaG9yPSdtaWRkbGUnIGRvbWluYW50LWJhc2VsaW5lPSdtaWRkbGUnIHRyYW5zZm9ybT0ncm90YXRlKC00NSAyNTAgMTYwKSclM0VDT05GSURFTlRJRUwgQUlSTE9DSyUzQy90ZXh0JTNFJTNDL3N2ZyUzRVwiKWAsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcInJlcGVhdFwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiNTAwcHggMzIwcHhcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7LyogSW1hZ2UgZGUgbGEgcGFnZSAtIFV0aWxpc2VyIDxpbWc+IG5hdGlmIChwYXMgTmV4dC9JbWFnZSkgcG91ciDDqXZpdGVyIGxlcyBwcm9ibMOobWVzICovfVxuICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgc3JjPXtwYWdlVXJsfVxuICAgICAgICAgICAgICAgIGFsdD17YFBhZ2UgJHtwYWdlTnVtfWB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBXZWJraXRVc2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgey8qIE51bcOpcm8gZGUgcGFnZSAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNCByaWdodC00IGJnLWJsYWNrLzUwIHRleHQtd2hpdGUgcHgtMyBweS0xIHJvdW5kZWQtbGcgdGV4dC14cyBmb250LW1lZGl1bSB6LTIwXCI+XG4gICAgICAgICAgICAgICAgUGFnZSB7cGFnZU51bX0gLyB7bWFuaWZlc3QucGFnZUNvdW50fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsIm1vdGlvbiIsIkxvYWRlcjIiLCJEb3dubG9hZCIsIlBhZ2VDYW52YXMiLCJwYWdlVXJsIiwicGFnZU51bWJlciIsInRvdGFsUGFnZXMiLCJjYW52YXNSZWYiLCJsb2FkZWQiLCJzZXRMb2FkZWQiLCJjYW52YXMiLCJjdXJyZW50IiwiaW1nIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsIm9ubG9hZCIsImN0eCIsImdldENvbnRleHQiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsIm9uZXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJzcmMiLCJwcmV2ZW50RXhwb3J0IiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhcHR1cmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwic3R5bGUiLCJwb2ludGVyRXZlbnRzIiwidXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJXZWJraXRUb3VjaENhbGxvdXQiLCJ0b3VjaEFjdGlvbiIsImltYWdlUmVuZGVyaW5nIiwib25Db250ZXh0TWVudSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9uTW91c2VEb3duIiwib25DbGljayIsIm9uRHJhZ1N0YXJ0IiwiUERGUGFnZVZpZXdlciIsImZpbGVJZCIsInRva2VuIiwiZmlsZU5hbWUiLCJtYW5pZmVzdCIsInNldE1hbmlmZXN0IiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNoYXJlSWQiLCJzZXRTaGFyZUlkIiwiY29udGFpbmVyUmVmIiwib2JzZXJ2ZXJSZWYiLCJsb2FkZWRQYWdlc1JlZiIsIlNldCIsIm92ZXJsYXlSZWYiLCJmZXRjaFNoYXJlSWQiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJkYXRhIiwianNvbiIsInBhZ2VVcmxzIiwibGVuZ3RoIiwibWF0Y2giLCJlcnJvckRhdGEiLCJlcnIiLCJoYW5kbGVLZXlEb3duIiwiY3RybEtleSIsIm1ldGFLZXkiLCJrZXkiLCJzaGlmdEtleSIsImhhbmRsZUNvbnRleHRNZW51IiwiaGFuZGxlRHJhZ1N0YXJ0IiwiaGFuZGxlU2VsZWN0U3RhcnQiLCJoYW5kbGVDb3B5IiwiaGFuZGxlTW91c2VEb3duIiwidGFyZ2V0IiwidGFnTmFtZSIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImJvZHkiLCJ3ZWJraXRVc2VyU2VsZWN0IiwicG9sbEludGVydmFsIiwicmV0cnlDb3VudCIsIk1BWF9SRVRSSUVTIiwibG9hZE1hbmlmZXN0Iiwic3RhdHVzIiwiY2xlYXJJbnRlcnZhbCIsIm1lc3NhZ2UiLCJzZXRJbnRlcnZhbCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJwYWdlSW5kZXgiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImhhcyIsImFkZCIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwicGFnZUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJoYW5kbGVEb3dubG9hZCIsImRvd25sb2FkQWxsb3dlZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiZG93bmxvYWRVcmwiLCJ3aW5kb3ciLCJvcGVuIiwiYWxlcnQiLCJwIiwicGFnZUNvdW50IiwicGFnZXMiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsImJ1dHRvbiIsInNjcm9sbGJhcldpZHRoIiwic2Nyb2xsYmFyQ29sb3IiLCJtYXAiLCJwYWdlTnVtIiwiaW5kZXgiLCJkYXRhLXBhZ2UtaW5kZXgiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwibWF4V2lkdGgiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiYmFja2dyb3VuZFNpemUiLCJhbHQiLCJkcmFnZ2FibGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx\n"));

/***/ })

});