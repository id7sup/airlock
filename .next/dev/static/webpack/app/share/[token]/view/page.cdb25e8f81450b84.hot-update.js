"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/share/[token]/view/page",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js":
/*!**************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/download.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Download)\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Download = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Download\", [\n    [\n        \"path\",\n        {\n            d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\",\n            key: \"ih7n3h\"\n        }\n    ],\n    [\n        \"polyline\",\n        {\n            points: \"7 10 12 15 17 10\",\n            key: \"2ggqvy\"\n        }\n    ],\n    [\n        \"line\",\n        {\n            x1: \"12\",\n            x2: \"12\",\n            y1: \"15\",\n            y2: \"3\",\n            key: \"1vk2je\"\n        }\n    ]\n]);\n //# sourceMappingURL=download.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZG93bmxvYWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFhTSxpQkFBVyxnRUFBZ0IsQ0FBQyxVQUFZO0lBQzVDO1FBQUMsTUFBUTtRQUFBO1lBQUUsR0FBRyxDQUE2QztZQUFBLEtBQUs7UUFBQSxDQUFVO0tBQUE7SUFDMUU7UUFBQyxVQUFZO1FBQUE7WUFBRSxRQUFRLENBQW9CO1lBQUEsS0FBSztRQUFBLENBQVU7S0FBQTtJQUMxRDtRQUFDO1FBQVEsQ0FBRTtZQUFBLElBQUksQ0FBTTtZQUFBLElBQUksQ0FBTTtZQUFBLEdBQUksS0FBTTtZQUFBLEdBQUksSUFBSztZQUFBLEtBQUs7UUFBQSxDQUFVO0tBQUE7Q0FDbEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcmMvaWNvbnMvZG93bmxvYWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBEb3dubG9hZFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOTWpFZ01UVjJOR0V5SURJZ01DQXdJREV0TWlBeVNEVmhNaUF5SURBZ01DQXhMVEl0TW5ZdE5DSWdMejRLSUNBOGNHOXNlV3hwYm1VZ2NHOXBiblJ6UFNJM0lERXdJREV5SURFMUlERTNJREV3SWlBdlBnb2dJRHhzYVc1bElIZ3hQU0l4TWlJZ2VESTlJakV5SWlCNU1UMGlNVFVpSUhreVBTSXpJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9kb3dubG9hZFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IERvd25sb2FkID0gY3JlYXRlTHVjaWRlSWNvbignRG93bmxvYWQnLCBbXG4gIFsncGF0aCcsIHsgZDogJ00yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00Jywga2V5OiAnaWg3bjNoJyB9XSxcbiAgWydwb2x5bGluZScsIHsgcG9pbnRzOiAnNyAxMCAxMiAxNSAxNyAxMCcsIGtleTogJzJnZ3F2eScgfV0sXG4gIFsnbGluZScsIHsgeDE6ICcxMicsIHgyOiAnMTInLCB5MTogJzE1JywgeTI6ICczJywga2V5OiAnMXZrMmplJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBEb3dubG9hZDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/share/[token]/view/page.tsx":
/*!*********************************************!*\
  !*** ./src/app/share/[token]/view/page.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FileViewerPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_shared_Logo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/shared/Logo */ \"(app-pages-browser)/./src/components/shared/Logo.tsx\");\n/* harmony import */ var _barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FileIcon,Loader2,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=FileIcon,Loader2,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=FileIcon,Loader2,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _components_shared_PDFPageViewer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/shared/PDFPageViewer */ \"(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Fonction pour détecter les fichiers Office\nfunction isOfficeFile(mimeType) {\n    const officeTypes = [\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n        'application/msword',\n        'application/vnd.ms-excel',\n        'application/vnd.ms-powerpoint'\n    ];\n    return officeTypes.includes(mimeType);\n}\n// Fonction pour obtenir le nom du type de fichier\nfunction getFileTypeName(mimeType) {\n    const typeMap = {\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'Word (.docx)',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'Excel (.xlsx)',\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'PowerPoint (.pptx)',\n        'application/msword': 'Word (.doc)',\n        'application/vnd.ms-excel': 'Excel (.xls)',\n        'application/vnd.ms-powerpoint': 'PowerPoint (.ppt)'\n    };\n    return typeMap[mimeType] || mimeType;\n}\nfunction FileViewerPage() {\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const token = params?.token;\n    const fileId = searchParams?.get(\"fileId\");\n    const [viewerUrl, setViewerUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [fileName, setFileName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [fileType, setFileType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FileViewerPage.useEffect\": ()=>{\n            if (!fileId || !token) {\n                setError(\"Paramètres manquants\");\n                setIsLoading(false);\n                return;\n            }\n            // Récupérer les infos du fichier pour déterminer le type\n            fetch(`/api/public/view/info?fileId=${fileId}&token=${token}`).then({\n                \"FileViewerPage.useEffect\": async (res)=>{\n                    if (res.ok) {\n                        const data = await res.json();\n                        setFileName(data.name || \"Fichier\");\n                        setFileType(data.mimeType || \"\");\n                        // Construire l'URL du viewer\n                        const viewUrl = `/api/public/view?fileId=${fileId}&token=${token}`;\n                        setViewerUrl(viewUrl);\n                    } else {\n                        setError(\"Erreur lors du chargement des informations du fichier\");\n                    }\n                }\n            }[\"FileViewerPage.useEffect\"]).catch({\n                \"FileViewerPage.useEffect\": (err)=>{\n                    setError(\"Erreur de connexion\");\n                    console.error(err);\n                }\n            }[\"FileViewerPage.useEffect\"]).finally({\n                \"FileViewerPage.useEffect\": ()=>{\n                    setIsLoading(false);\n                }\n            }[\"FileViewerPage.useEffect\"]);\n        }\n    }[\"FileViewerPage.useEffect\"], [\n        fileId,\n        token\n    ]);\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-black flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-white mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 83,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-white/60 text-sm font-medium\",\n                        children: \"Chargement du fichier...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 84,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                lineNumber: 82,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n            lineNumber: 81,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-black flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4 max-w-md px-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            className: \"w-8 h-8 text-red-500\"\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 94,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-xl font-bold text-white\",\n                        children: \"Erreur\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-white/60 text-sm\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 98,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>window.history.back(),\n                        className: \"mt-4 px-6 py-2 bg-white text-black rounded-xl font-medium hover:bg-white/90 transition-all\",\n                        children: \"Retour\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 99,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                lineNumber: 93,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n            lineNumber: 92,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-black\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-xl border-b border-white/10\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_Logo__WEBPACK_IMPORTED_MODULE_3__.Logo, {\n                                    className: \"w-8 h-8 brightness-0 invert\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 116,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-sm font-medium text-white truncate max-w-md\",\n                                            children: fileName || \"Fichier\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 118,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-white/40 font-medium\",\n                                            children: \"Lecture seule • Filigrane\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 121,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 117,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 115,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>window.history.back(),\n                            className: \"w-10 h-10 flex items-center justify-center hover:bg-white/10 rounded-xl transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-5 h-5 text-white\"\n                            }, void 0, false, {\n                                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                lineNumber: 128,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 124,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                    lineNumber: 114,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                lineNumber: 113,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pt-20 min-h-screen flex items-center justify-center p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.AnimatePresence, {\n                    mode: \"wait\",\n                    children: viewerUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                        initial: {\n                            opacity: 0,\n                            scale: 0.95\n                        },\n                        animate: {\n                            opacity: 1,\n                            scale: 1\n                        },\n                        exit: {\n                            opacity: 0,\n                            scale: 0.95\n                        },\n                        className: \"w-full max-w-6xl h-[calc(100vh-8rem)] relative\",\n                        children: fileType.startsWith('image/') ? // Pour les images, utiliser une balise img avec filigrane\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-full h-full rounded-2xl border border-white/10 bg-white overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none z-10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-black/15 text-7xl font-bold select-none\",\n                                        style: {\n                                            transform: 'rotate(-45deg)',\n                                            userSelect: 'none',\n                                            WebkitUserSelect: 'none'\n                                        },\n                                        children: \"AIRLOCK\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                        lineNumber: 150,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: viewerUrl,\n                                    alt: fileName,\n                                    className: \"w-full h-full object-contain relative z-0\",\n                                    style: {\n                                        filter: 'brightness(0.98)'\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 158,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 147,\n                            columnNumber: 17\n                        }, this) : fileType === 'application/pdf' ? // Pour les PDFs, utiliser le viewer page par page (approche DocSend/Box-like)\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-full h-full rounded-2xl border border-white/10 bg-white overflow-hidden\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_PDFPageViewer__WEBPACK_IMPORTED_MODULE_4__.PDFPageViewer, {\n                                fileId: fileId,\n                                token: token,\n                                fileName: fileName\n                            }, void 0, false, {\n                                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                lineNumber: 168,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 167,\n                            columnNumber: 17\n                        }, this) : fileType.startsWith('text/') ? // Pour les fichiers texte, utiliser un iframe avec filigrane\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-full h-full rounded-2xl border border-white/10 bg-white overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none z-10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-black/10 text-7xl font-bold select-none\",\n                                        style: {\n                                            transform: 'rotate(-45deg)',\n                                            userSelect: 'none',\n                                            WebkitUserSelect: 'none'\n                                        },\n                                        children: \"AIRLOCK\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                        lineNumber: 179,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 178,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                    src: viewerUrl,\n                                    className: \"w-full h-full relative z-0\",\n                                    title: \"Text Viewer\",\n                                    style: {\n                                        border: 'none'\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 187,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 176,\n                            columnNumber: 17\n                        }, this) : isOfficeFile(fileType) ? // Pour les fichiers Office, afficher un message avec option de conversion\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full rounded-2xl border border-white/10 bg-gradient-to-br from-white to-gray-50 flex items-center justify-center relative overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none opacity-10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-black text-8xl font-bold select-none\",\n                                            style: {\n                                                transform: 'rotate(-45deg)',\n                                                userSelect: 'none',\n                                                WebkitUserSelect: 'none'\n                                            },\n                                            children: \"AIRLOCK\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 200,\n                                            columnNumber: 23\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                        lineNumber: 199,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 198,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center p-8 max-w-md relative z-10\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-20 h-20 mx-auto mb-6 text-black/30\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 211,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold text-black mb-3\",\n                                            children: \"Fichier Office\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 212,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-base text-black/60 mb-2\",\n                                            children: getFileTypeName(fileType)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 213,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-black/50 mb-6\",\n                                            children: \"Ce type de fichier ne peut pas \\xeatre pr\\xe9visualis\\xe9 directement dans le navigateur.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 216,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-orange-50 border border-orange-200 rounded-2xl p-4 mb-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-orange-900 leading-relaxed\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        className: \"text-orange-950\",\n                                                        children: \"Note :\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                                        lineNumber: 221,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    \" Les fichiers Office ne peuvent pas \\xeatre pr\\xe9visualis\\xe9s dans le navigateur et ne supportent pas le filigrane. Ce fichier reste t\\xe9l\\xe9chargeable.\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                                lineNumber: 220,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 219,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 196,\n                            columnNumber: 17\n                        }, this) : // Pour les autres types, essayer avec un object\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"object\", {\n                            data: viewerUrl,\n                            type: fileType,\n                            className: \"w-full h-full rounded-2xl border border-white/10 bg-white\",\n                            style: {\n                                border: 'none'\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full text-white/60\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileIcon_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-16 h-16 mx-auto mb-4 opacity-50\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 237,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm\",\n                                            children: \"Ce type de fichier ne peut pas \\xeatre pr\\xe9visualis\\xe9\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 238,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs mt-2 opacity-50\",\n                                            children: fileType\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                            lineNumber: 239,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 21\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                                lineNumber: 235,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                            lineNumber: 229,\n                            columnNumber: 17\n                        }, this)\n                    }, \"viewer\", false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                lineNumber: 134,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-0 left-0 right-0 bg-black/80 backdrop-blur-xl border-t border-white/10 py-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-6 text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-white/40 font-medium\",\n                        children: \"Ce fichier est en lecture seule avec filigrane. Le t\\xe9l\\xe9chargement est d\\xe9sactiv\\xe9.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                        lineNumber: 252,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n                lineNumber: 250,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/app/share/[token]/view/page.tsx\",\n        lineNumber: 111,\n        columnNumber: 5\n    }, this);\n}\n_s(FileViewerPage, \"g4dj2qMbf9TBsGQRmTVNOFApGuo=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c = FileViewerPage;\nvar _c;\n$RefreshReg$(_c, \"FileViewerPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvc2hhcmUvW3Rva2VuXS92aWV3L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ2lCO0FBQ2I7QUFDSTtBQUNJO0FBQ1U7QUFFbEUsNkNBQTZDO0FBQzdDLFNBQVNXLGFBQWFDLFFBQWdCO0lBQ3BDLE1BQU1DLGNBQWM7UUFDbEI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDRCxPQUFPQSxZQUFZQyxRQUFRLENBQUNGO0FBQzlCO0FBRUEsa0RBQWtEO0FBQ2xELFNBQVNHLGdCQUFnQkgsUUFBZ0I7SUFDdkMsTUFBTUksVUFBa0M7UUFDdEMsMkVBQTJFO1FBQzNFLHFFQUFxRTtRQUNyRSw2RUFBNkU7UUFDN0Usc0JBQXNCO1FBQ3RCLDRCQUE0QjtRQUM1QixpQ0FBaUM7SUFDbkM7SUFDQSxPQUFPQSxPQUFPLENBQUNKLFNBQVMsSUFBSUE7QUFDOUI7QUFFZSxTQUFTSzs7SUFDdEIsTUFBTUMsU0FBU2YsMERBQVNBO0lBQ3hCLE1BQU1nQixlQUFlakIsZ0VBQWVBO0lBQ3BDLE1BQU1rQixRQUFRRixRQUFRRTtJQUN0QixNQUFNQyxTQUFTRixjQUFjRyxJQUFJO0lBRWpDLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHdkIsK0NBQVFBLENBQWdCO0lBQzFELE1BQU0sQ0FBQ3dCLFdBQVdDLGFBQWEsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzBCLE9BQU9DLFNBQVMsR0FBRzNCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUM0QixVQUFVQyxZQUFZLEdBQUc3QiwrQ0FBUUEsQ0FBUztJQUNqRCxNQUFNLENBQUM4QixVQUFVQyxZQUFZLEdBQUcvQiwrQ0FBUUEsQ0FBUztJQUVqREQsZ0RBQVNBO29DQUFDO1lBQ1IsSUFBSSxDQUFDcUIsVUFBVSxDQUFDRCxPQUFPO2dCQUNyQlEsU0FBUztnQkFDVEYsYUFBYTtnQkFDYjtZQUNGO1lBRUEseURBQXlEO1lBQ3pETyxNQUFNLENBQUMsNkJBQTZCLEVBQUVaLE9BQU8sT0FBTyxFQUFFRCxPQUFPLEVBQzFEYyxJQUFJOzRDQUFDLE9BQU9DO29CQUNYLElBQUlBLElBQUlDLEVBQUUsRUFBRTt3QkFDVixNQUFNQyxPQUFPLE1BQU1GLElBQUlHLElBQUk7d0JBQzNCUixZQUFZTyxLQUFLRSxJQUFJLElBQUk7d0JBQ3pCUCxZQUFZSyxLQUFLekIsUUFBUSxJQUFJO3dCQUU3Qiw2QkFBNkI7d0JBQzdCLE1BQU00QixVQUFVLENBQUMsd0JBQXdCLEVBQUVuQixPQUFPLE9BQU8sRUFBRUQsT0FBTzt3QkFDbEVJLGFBQWFnQjtvQkFDZixPQUFPO3dCQUNMWixTQUFTO29CQUNYO2dCQUNGOzJDQUNDYSxLQUFLOzRDQUFDLENBQUNDO29CQUNOZCxTQUFTO29CQUNUZSxRQUFRaEIsS0FBSyxDQUFDZTtnQkFDaEI7MkNBQ0NFLE9BQU87NENBQUM7b0JBQ1BsQixhQUFhO2dCQUNmOztRQUNKO21DQUFHO1FBQUNMO1FBQVFEO0tBQU07SUFFbEIsSUFBSUssV0FBVztRQUNiLHFCQUNFLDhEQUFDb0I7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDeEMsOEZBQU9BO3dCQUFDd0MsV0FBVTs7Ozs7O2tDQUNuQiw4REFBQ0M7d0JBQUVELFdBQVU7a0NBQW9DOzs7Ozs7Ozs7Ozs7Ozs7OztJQUl6RDtJQUVBLElBQUluQixPQUFPO1FBQ1QscUJBQ0UsOERBQUNrQjtZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDekMsOEZBQUNBOzRCQUFDeUMsV0FBVTs7Ozs7Ozs7Ozs7a0NBRWYsOERBQUNFO3dCQUFHRixXQUFVO2tDQUErQjs7Ozs7O2tDQUM3Qyw4REFBQ0M7d0JBQUVELFdBQVU7a0NBQXlCbkI7Ozs7OztrQ0FDdEMsOERBQUNzQjt3QkFDQ0MsU0FBUyxJQUFNQyxPQUFPQyxPQUFPLENBQUNDLElBQUk7d0JBQ2xDUCxXQUFVO2tDQUNYOzs7Ozs7Ozs7Ozs7Ozs7OztJQU1UO0lBRUEscUJBQ0UsOERBQUNEO1FBQUlDLFdBQVU7OzBCQUViLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUMxQyx5REFBSUE7b0NBQUMwQyxXQUFVOzs7Ozs7OENBQ2hCLDhEQUFDRDs7c0RBQ0MsOERBQUNHOzRDQUFHRixXQUFVO3NEQUNYakIsWUFBWTs7Ozs7O3NEQUVmLDhEQUFDa0I7NENBQUVELFdBQVU7c0RBQW9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBR3JELDhEQUFDRzs0QkFDQ0MsU0FBUyxJQUFNQyxPQUFPQyxPQUFPLENBQUNDLElBQUk7NEJBQ2xDUCxXQUFVO3NDQUVWLDRFQUFDekMsOEZBQUNBO2dDQUFDeUMsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNbkIsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDckMsMERBQWVBO29CQUFDNkMsTUFBSzs4QkFDbkIvQiwyQkFDQyw4REFBQ2YsaURBQU1BLENBQUNxQyxHQUFHO3dCQUVUVSxTQUFTOzRCQUFFQyxTQUFTOzRCQUFHQyxPQUFPO3dCQUFLO3dCQUNuQ0MsU0FBUzs0QkFBRUYsU0FBUzs0QkFBR0MsT0FBTzt3QkFBRTt3QkFDaENFLE1BQU07NEJBQUVILFNBQVM7NEJBQUdDLE9BQU87d0JBQUs7d0JBQ2hDWCxXQUFVO2tDQUdUZixTQUFTNkIsVUFBVSxDQUFDLFlBQ25CLDBEQUEwRDtzQ0FDMUQsOERBQUNmOzRCQUFJQyxXQUFVOzs4Q0FFYiw4REFBQ0Q7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNEO3dDQUFJQyxXQUFVO3dDQUErQ2UsT0FBTzs0Q0FDbkVDLFdBQVc7NENBQ1hDLFlBQVk7NENBQ1pDLGtCQUFrQjt3Q0FDcEI7a0RBQUc7Ozs7Ozs7Ozs7OzhDQUlMLDhEQUFDQztvQ0FDQ0MsS0FBSzNDO29DQUNMNEMsS0FBS3RDO29DQUNMaUIsV0FBVTtvQ0FDVmUsT0FBTzt3Q0FBRU8sUUFBUTtvQ0FBbUI7Ozs7Ozs7Ozs7O21DQUd0Q3JDLGFBQWEsb0JBQ2YsOEVBQThFO3NDQUM5RSw4REFBQ2M7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNwQywyRUFBYUE7Z0NBQ1pXLFFBQVFBO2dDQUNSRCxPQUFPQTtnQ0FDUFMsVUFBVUE7Ozs7Ozs7Ozs7bUNBR1pFLFNBQVM2QixVQUFVLENBQUMsV0FDdEIsNkRBQTZEO3NDQUM3RCw4REFBQ2Y7NEJBQUlDLFdBQVU7OzhDQUViLDhEQUFDRDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7d0NBQStDZSxPQUFPOzRDQUNuRUMsV0FBVzs0Q0FDWEMsWUFBWTs0Q0FDWkMsa0JBQWtCO3dDQUNwQjtrREFBRzs7Ozs7Ozs7Ozs7OENBSUwsOERBQUNLO29DQUNDSCxLQUFLM0M7b0NBQ0x1QixXQUFVO29DQUNWd0IsT0FBTTtvQ0FDTlQsT0FBTzt3Q0FBRVUsUUFBUTtvQ0FBTzs7Ozs7Ozs7Ozs7bUNBRzFCNUQsYUFBYW9CLFlBQ2YsMEVBQTBFO3NDQUMxRSw4REFBQ2M7NEJBQUlDLFdBQVU7OzhDQUViLDhEQUFDRDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7a0RBQ2IsNEVBQUNEOzRDQUFJQyxXQUFVOzRDQUE0Q2UsT0FBTztnREFDaEVDLFdBQVc7Z0RBQ1hDLFlBQVk7Z0RBQ1pDLGtCQUFrQjs0Q0FDcEI7c0RBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7OENBTVAsOERBQUNuQjtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUN2Qyw4RkFBUUE7NENBQUN1QyxXQUFVOzs7Ozs7c0RBQ3BCLDhEQUFDMEI7NENBQUcxQixXQUFVO3NEQUFxQzs7Ozs7O3NEQUNuRCw4REFBQ0M7NENBQUVELFdBQVU7c0RBQ1YvQixnQkFBZ0JnQjs7Ozs7O3NEQUVuQiw4REFBQ2dCOzRDQUFFRCxXQUFVO3NEQUE2Qjs7Ozs7O3NEQUcxQyw4REFBQ0Q7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUNDO2dEQUFFRCxXQUFVOztrRUFDWCw4REFBQzJCO3dEQUFPM0IsV0FBVTtrRUFBa0I7Ozs7OztvREFBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUNBTzNELGdEQUFnRDtzQ0FDaEQsOERBQUM0Qjs0QkFDQ3JDLE1BQU1kOzRCQUNOb0QsTUFBTTVDOzRCQUNOZSxXQUFVOzRCQUNWZSxPQUFPO2dDQUFFVSxRQUFROzRCQUFPO3NDQUV4Qiw0RUFBQzFCO2dDQUFJQyxXQUFVOzBDQUNiLDRFQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUN2Qyw4RkFBUUE7NENBQUN1QyxXQUFVOzs7Ozs7c0RBQ3BCLDhEQUFDQzs0Q0FBRUQsV0FBVTtzREFBVTs7Ozs7O3NEQUN2Qiw4REFBQ0M7NENBQUVELFdBQVU7c0RBQTJCZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt1QkFyRzVDOzs7Ozs7Ozs7Ozs7Ozs7MEJBZ0haLDhEQUFDYztnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNDO3dCQUFFRCxXQUFVO2tDQUFvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU8zRDtHQS9Od0I3Qjs7UUFDUGQsc0RBQVNBO1FBQ0hELDREQUFlQTs7O0tBRmRlIiwic291cmNlcyI6WyIvVXNlcnMvam9zZXBobWljaGF1dC9EZXNrdG9wL2FpcmxvY2svc3JjL2FwcC9zaGFyZS9bdG9rZW5dL3ZpZXcvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcywgdXNlUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgTG9nbyB9IGZyb20gXCJAL2NvbXBvbmVudHMvc2hhcmVkL0xvZ29cIjtcbmltcG9ydCB7IFgsIExvYWRlcjIsIEZpbGVJY29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuaW1wb3J0IHsgUERGUGFnZVZpZXdlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvc2hhcmVkL1BERlBhZ2VWaWV3ZXJcIjtcblxuLy8gRm9uY3Rpb24gcG91ciBkw6l0ZWN0ZXIgbGVzIGZpY2hpZXJzIE9mZmljZVxuZnVuY3Rpb24gaXNPZmZpY2VGaWxlKG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3Qgb2ZmaWNlVHlwZXMgPSBbXG4gICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JywgLy8gLmRvY3hcbiAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnLCAvLyAueGxzeFxuICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwucHJlc2VudGF0aW9uJywgLy8gLnBwdHhcbiAgICAnYXBwbGljYXRpb24vbXN3b3JkJywgLy8gLmRvY1xuICAgICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnLCAvLyAueGxzXG4gICAgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50JywgLy8gLnBwdFxuICBdO1xuICByZXR1cm4gb2ZmaWNlVHlwZXMuaW5jbHVkZXMobWltZVR5cGUpO1xufVxuXG4vLyBGb25jdGlvbiBwb3VyIG9idGVuaXIgbGUgbm9tIGR1IHR5cGUgZGUgZmljaGllclxuZnVuY3Rpb24gZ2V0RmlsZVR5cGVOYW1lKG1pbWVUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCB0eXBlTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCc6ICdXb3JkICguZG9jeCknLFxuICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc6ICdFeGNlbCAoLnhsc3gpJyxcbiAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbic6ICdQb3dlclBvaW50ICgucHB0eCknLFxuICAgICdhcHBsaWNhdGlvbi9tc3dvcmQnOiAnV29yZCAoLmRvYyknLFxuICAgICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnOiAnRXhjZWwgKC54bHMpJyxcbiAgICAnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQnOiAnUG93ZXJQb2ludCAoLnBwdCknLFxuICB9O1xuICByZXR1cm4gdHlwZU1hcFttaW1lVHlwZV0gfHwgbWltZVR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbGVWaWV3ZXJQYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHRva2VuID0gcGFyYW1zPy50b2tlbiBhcyBzdHJpbmc7XG4gIGNvbnN0IGZpbGVJZCA9IHNlYXJjaFBhcmFtcz8uZ2V0KFwiZmlsZUlkXCIpO1xuICBcbiAgY29uc3QgW3ZpZXdlclVybCwgc2V0Vmlld2VyVXJsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmaWxlTmFtZSwgc2V0RmlsZU5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW2ZpbGVUeXBlLCBzZXRGaWxlVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFmaWxlSWQgfHwgIXRva2VuKSB7XG4gICAgICBzZXRFcnJvcihcIlBhcmFtw6h0cmVzIG1hbnF1YW50c1wiKTtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUsOpY3Vww6lyZXIgbGVzIGluZm9zIGR1IGZpY2hpZXIgcG91ciBkw6l0ZXJtaW5lciBsZSB0eXBlXG4gICAgZmV0Y2goYC9hcGkvcHVibGljL3ZpZXcvaW5mbz9maWxlSWQ9JHtmaWxlSWR9JnRva2VuPSR7dG9rZW59YClcbiAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIHNldEZpbGVOYW1lKGRhdGEubmFtZSB8fCBcIkZpY2hpZXJcIik7XG4gICAgICAgICAgc2V0RmlsZVR5cGUoZGF0YS5taW1lVHlwZSB8fCBcIlwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb25zdHJ1aXJlIGwnVVJMIGR1IHZpZXdlclxuICAgICAgICAgIGNvbnN0IHZpZXdVcmwgPSBgL2FwaS9wdWJsaWMvdmlldz9maWxlSWQ9JHtmaWxlSWR9JnRva2VuPSR7dG9rZW59YDtcbiAgICAgICAgICBzZXRWaWV3ZXJVcmwodmlld1VybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0RXJyb3IoXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlcyBpbmZvcm1hdGlvbnMgZHUgZmljaGllclwiKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHNldEVycm9yKFwiRXJyZXVyIGRlIGNvbm5leGlvblwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbZmlsZUlkLCB0b2tlbl0pO1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmxhY2sgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1zbSBmb250LW1lZGl1bVwiPkNoYXJnZW1lbnQgZHUgZmljaGllci4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWJsYWNrIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00IG1heC13LW1kIHB4LTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBiZy1yZWQtNTAwLzIwIHJvdW5kZWQtMnhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG9cIj5cbiAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1yZWQtNTAwXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPkVycmV1cjwvaDE+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCB0ZXh0LXNtXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cuaGlzdG9yeS5iYWNrKCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtdC00IHB4LTYgcHktMiBiZy13aGl0ZSB0ZXh0LWJsYWNrIHJvdW5kZWQteGwgZm9udC1tZWRpdW0gaG92ZXI6Ymctd2hpdGUvOTAgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFJldG91clxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWJsYWNrXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtMCBsZWZ0LTAgcmlnaHQtMCB6LTUwIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXIteGwgYm9yZGVyLWIgYm9yZGVyLXdoaXRlLzEwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNiBweS00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxMb2dvIGNsYXNzTmFtZT1cInctOCBoLTggYnJpZ2h0bmVzcy0wIGludmVydFwiIC8+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIHRydW5jYXRlIG1heC13LW1kXCI+XG4gICAgICAgICAgICAgICAge2ZpbGVOYW1lIHx8IFwiRmljaGllclwifVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNDAgZm9udC1tZWRpdW1cIj5MZWN0dXJlIHNldWxlIOKAoiBGaWxpZ3JhbmU8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cuaGlzdG9yeS5iYWNrKCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaG92ZXI6Ymctd2hpdGUvMTAgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFZpZXdlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMjAgbWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNlwiPlxuICAgICAgICA8QW5pbWF0ZVByZXNlbmNlIG1vZGU9XCJ3YWl0XCI+XG4gICAgICAgICAge3ZpZXdlclVybCAmJiAoXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBrZXk9XCJ2aWV3ZXJcIlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctNnhsIGgtW2NhbGMoMTAwdmgtOHJlbSldIHJlbGF0aXZlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgey8qIEFmZmljaGFnZSBzZWxvbiBsZSB0eXBlIGRlIGZpY2hpZXIgKi99XG4gICAgICAgICAgICAgIHtmaWxlVHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSA/IChcbiAgICAgICAgICAgICAgICAvLyBQb3VyIGxlcyBpbWFnZXMsIHV0aWxpc2VyIHVuZSBiYWxpc2UgaW1nIGF2ZWMgZmlsaWdyYW5lXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICB7LyogRmlsaWdyYW5lIG92ZXJsYXkgcG91ciBpbWFnZXMgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ibGFjay8xNSB0ZXh0LTd4bCBmb250LWJvbGQgc2VsZWN0LW5vbmVcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNDVkZWcpJyxcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICBBSVJMT0NLXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIHNyYz17dmlld2VyVXJsfVxuICAgICAgICAgICAgICAgICAgICBhbHQ9e2ZpbGVOYW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluIHJlbGF0aXZlIHotMFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZpbHRlcjogJ2JyaWdodG5lc3MoMC45OCknIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogZmlsZVR5cGUgPT09ICdhcHBsaWNhdGlvbi9wZGYnID8gKFxuICAgICAgICAgICAgICAgIC8vIFBvdXIgbGVzIFBERnMsIHV0aWxpc2VyIGxlIHZpZXdlciBwYWdlIHBhciBwYWdlIChhcHByb2NoZSBEb2NTZW5kL0JveC1saWtlKVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtZnVsbCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgPFBERlBhZ2VWaWV3ZXIgXG4gICAgICAgICAgICAgICAgICAgIGZpbGVJZD17ZmlsZUlkIX0gXG4gICAgICAgICAgICAgICAgICAgIHRva2VuPXt0b2tlbn0gXG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lPXtmaWxlTmFtZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBmaWxlVHlwZS5zdGFydHNXaXRoKCd0ZXh0LycpID8gKFxuICAgICAgICAgICAgICAgIC8vIFBvdXIgbGVzIGZpY2hpZXJzIHRleHRlLCB1dGlsaXNlciB1biBpZnJhbWUgYXZlYyBmaWxpZ3JhbmVcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBGaWxpZ3JhbmUgb3ZlcmxheSBwb3VyIHRleHRlICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmxhY2svMTAgdGV4dC03eGwgZm9udC1ib2xkIHNlbGVjdC1ub25lXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTQ1ZGVnKScsXG4gICAgICAgICAgICAgICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgQUlSTE9DS1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgICAgICAgICBzcmM9e3ZpZXdlclVybH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCByZWxhdGl2ZSB6LTBcIlxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlRleHQgVmlld2VyXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyOiAnbm9uZScgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBpc09mZmljZUZpbGUoZmlsZVR5cGUpID8gKFxuICAgICAgICAgICAgICAgIC8vIFBvdXIgbGVzIGZpY2hpZXJzIE9mZmljZSwgYWZmaWNoZXIgdW4gbWVzc2FnZSBhdmVjIG9wdGlvbiBkZSBjb252ZXJzaW9uXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS13aGl0ZSB0by1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgey8qIEZpbGlncmFuZSBkZSBmb25kICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgb3BhY2l0eS0xMFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmxhY2sgdGV4dC04eGwgZm9udC1ib2xkIHNlbGVjdC1ub25lXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNDVkZWcpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFJUkxPQ0tcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTggbWF4LXctbWQgcmVsYXRpdmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICA8RmlsZUljb24gY2xhc3NOYW1lPVwidy0yMCBoLTIwIG14LWF1dG8gbWItNiB0ZXh0LWJsYWNrLzMwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWJsYWNrIG1iLTNcIj5GaWNoaWVyIE9mZmljZTwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZSB0ZXh0LWJsYWNrLzYwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0RmlsZVR5cGVOYW1lKGZpbGVUeXBlKX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmxhY2svNTAgbWItNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIENlIHR5cGUgZGUgZmljaGllciBuZSBwZXV0IHBhcyDDqnRyZSBwcsOpdmlzdWFsaXPDqSBkaXJlY3RlbWVudCBkYW5zIGxlIG5hdmlnYXRldXIuXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1vcmFuZ2UtNTAgYm9yZGVyIGJvcmRlci1vcmFuZ2UtMjAwIHJvdW5kZWQtMnhsIHAtNCBtYi02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW9yYW5nZS05MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtb3JhbmdlLTk1MFwiPk5vdGUgOjwvc3Ryb25nPiBMZXMgZmljaGllcnMgT2ZmaWNlIG5lIHBldXZlbnQgcGFzIMOqdHJlIHByw6l2aXN1YWxpc8OpcyBkYW5zIGxlIG5hdmlnYXRldXIgZXQgbmUgc3VwcG9ydGVudCBwYXMgbGUgZmlsaWdyYW5lLiBcbiAgICAgICAgICAgICAgICAgICAgICAgIENlIGZpY2hpZXIgcmVzdGUgdMOpbMOpY2hhcmdlYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgLy8gUG91ciBsZXMgYXV0cmVzIHR5cGVzLCBlc3NheWVyIGF2ZWMgdW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgPG9iamVjdFxuICAgICAgICAgICAgICAgICAgZGF0YT17dmlld2VyVXJsfVxuICAgICAgICAgICAgICAgICAgdHlwZT17ZmlsZVR5cGV9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyOiAnbm9uZScgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbCB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RmlsZUljb24gY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBvcGFjaXR5LTUwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+Q2UgdHlwZSBkZSBmaWNoaWVyIG5lIHBldXQgcGFzIMOqdHJlIHByw6l2aXN1YWxpc8OpPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMiBvcGFjaXR5LTUwXCI+e2ZpbGVUeXBlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L29iamVjdD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRm9vdGVyIG5vdGljZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgYmctYmxhY2svODAgYmFja2Ryb3AtYmx1ci14bCBib3JkZXItdCBib3JkZXItd2hpdGUvMTAgcHktM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHB4LTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIENlIGZpY2hpZXIgZXN0IGVuIGxlY3R1cmUgc2V1bGUgYXZlYyBmaWxpZ3JhbmUuIExlIHTDqWzDqWNoYXJnZW1lbnQgZXN0IGTDqXNhY3RpdsOpLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlU2VhcmNoUGFyYW1zIiwidXNlUGFyYW1zIiwiTG9nbyIsIlgiLCJMb2FkZXIyIiwiRmlsZUljb24iLCJtb3Rpb24iLCJBbmltYXRlUHJlc2VuY2UiLCJQREZQYWdlVmlld2VyIiwiaXNPZmZpY2VGaWxlIiwibWltZVR5cGUiLCJvZmZpY2VUeXBlcyIsImluY2x1ZGVzIiwiZ2V0RmlsZVR5cGVOYW1lIiwidHlwZU1hcCIsIkZpbGVWaWV3ZXJQYWdlIiwicGFyYW1zIiwic2VhcmNoUGFyYW1zIiwidG9rZW4iLCJmaWxlSWQiLCJnZXQiLCJ2aWV3ZXJVcmwiLCJzZXRWaWV3ZXJVcmwiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZmlsZU5hbWUiLCJzZXRGaWxlTmFtZSIsImZpbGVUeXBlIiwic2V0RmlsZVR5cGUiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImRhdGEiLCJqc29uIiwibmFtZSIsInZpZXdVcmwiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJmaW5hbGx5IiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgxIiwiYnV0dG9uIiwib25DbGljayIsIndpbmRvdyIsImhpc3RvcnkiLCJiYWNrIiwibW9kZSIsImluaXRpYWwiLCJvcGFjaXR5Iiwic2NhbGUiLCJhbmltYXRlIiwiZXhpdCIsInN0YXJ0c1dpdGgiLCJzdHlsZSIsInRyYW5zZm9ybSIsInVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwiaW1nIiwic3JjIiwiYWx0IiwiZmlsdGVyIiwiaWZyYW1lIiwidGl0bGUiLCJib3JkZXIiLCJoMyIsInN0cm9uZyIsIm9iamVjdCIsInR5cGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/share/[token]/view/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx":
/*!*************************************************!*\
  !*** ./src/components/shared/PDFPageViewer.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFPageViewer: () => (/* binding */ PDFPageViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* __next_internal_client_entry_do_not_use__ PDFPageViewer auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n// Composant pour afficher une page via canvas (plus difficile à sauvegarder)\nfunction PageCanvas({ pageUrl, pageNumber, totalPages }) {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.onload = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    const ctx = canvas.getContext('2d', {\n                        willReadFrequently: false\n                    });\n                    if (!ctx) return;\n                    // Ajuster la taille du canvas à l'image\n                    canvas.width = img.width;\n                    canvas.height = img.height;\n                    // Dessiner l'image\n                    ctx.drawImage(img, 0, 0);\n                    // Désactiver certaines méthodes du canvas pour rendre plus difficile l'export\n                    // (Note: cela ne peut pas être complètement empêché, mais rend plus difficile)\n                    setLoaded(true);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.onerror = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    console.error(`❌ Erreur chargement page ${pageNumber}`);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.src = pageUrl;\n        }\n    }[\"PageCanvas.useEffect\"], [\n        pageUrl,\n        pageNumber\n    ]);\n    // Protection supplémentaire : empêcher l'export du canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const preventExport = {\n                \"PageCanvas.useEffect.preventExport\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PageCanvas.useEffect.preventExport\"];\n            // Bloquer les événements sur le canvas\n            canvas.addEventListener('contextmenu', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('mousedown', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('click', preventExport, {\n                capture: true\n            });\n            return ({\n                \"PageCanvas.useEffect\": ()=>{\n                    canvas.removeEventListener('contextmenu', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('mousedown', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('click', preventExport, {\n                        capture: true\n                    });\n                }\n            })[\"PageCanvas.useEffect\"];\n        }\n    }[\"PageCanvas.useEffect\"], [\n        loaded\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                className: \"w-full h-auto block\",\n                style: {\n                    pointerEvents: \"none\",\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    WebkitTouchCallout: \"none\",\n                    touchAction: \"none\",\n                    imageRendering: \"high-quality\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onMouseDown: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            !loaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    className: \"w-6 h-6 animate-spin text-black/40\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\n_s(PageCanvas, \"4mBQWWl8obzKs4C+yM1x3Qp8zJM=\");\n_c = PageCanvas;\nfunction PDFPageViewer({ fileId, token, fileName }) {\n    _s1();\n    const [manifest, setManifest] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loadedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Protection globale contre les téléchargements et captures\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            // Bloquer les raccourcis clavier\n            const handleKeyDown = {\n                \"PDFPageViewer.useEffect.handleKeyDown\": (e)=>{\n                    // Ctrl+S, Ctrl+P, Ctrl+A, F12, Print Screen, etc.\n                    if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'p' || e.key === 'a' || e.key === 'u' || e.key === 'i') || e.key === 'F12' || e.key === 'PrintScreen' || e.shiftKey && e.key === 'F12') {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleKeyDown\"];\n            // Bloquer le menu contextuel\n            const handleContextMenu = {\n                \"PDFPageViewer.useEffect.handleContextMenu\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleContextMenu\"];\n            // Bloquer le drag and drop\n            const handleDragStart = {\n                \"PDFPageViewer.useEffect.handleDragStart\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleDragStart\"];\n            // Bloquer la sélection de texte\n            const handleSelectStart = {\n                \"PDFPageViewer.useEffect.handleSelectStart\": (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleSelectStart\"];\n            // Bloquer la copie\n            const handleCopy = {\n                \"PDFPageViewer.useEffect.handleCopy\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleCopy\"];\n            // Bloquer le clic droit et le clic gauche sur les images\n            const handleMouseDown = {\n                \"PDFPageViewer.useEffect.handleMouseDown\": (e)=>{\n                    // Bloquer tous les clics sur les images\n                    const target = e.target;\n                    if (target.tagName === 'IMG' || target.closest('img')) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleMouseDown\"];\n            // Ajouter les écouteurs avec capture pour intercepter tôt\n            document.addEventListener('keydown', handleKeyDown, {\n                capture: true\n            });\n            document.addEventListener('contextmenu', handleContextMenu, {\n                capture: true\n            });\n            document.addEventListener('dragstart', handleDragStart, {\n                capture: true\n            });\n            document.addEventListener('selectstart', handleSelectStart, {\n                capture: true\n            });\n            document.addEventListener('copy', handleCopy, {\n                capture: true\n            });\n            document.addEventListener('mousedown', handleMouseDown, {\n                capture: true\n            });\n            // Désactiver la sélection de texte globalement\n            document.body.style.userSelect = 'none';\n            document.body.style.webkitUserSelect = 'none';\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    document.removeEventListener('keydown', handleKeyDown, {\n                        capture: true\n                    });\n                    document.removeEventListener('contextmenu', handleContextMenu, {\n                        capture: true\n                    });\n                    document.removeEventListener('dragstart', handleDragStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('selectstart', handleSelectStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('copy', handleCopy, {\n                        capture: true\n                    });\n                    document.removeEventListener('mousedown', handleMouseDown, {\n                        capture: true\n                    });\n                    document.body.style.userSelect = '';\n                    document.body.style.webkitUserSelect = '';\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], []);\n    // Charger le manifest avec polling si en cours de génération\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            let pollInterval = null;\n            let retryCount = 0;\n            const MAX_RETRIES = 30; // 30 tentatives = 1 minute max (polling toutes les 2s)\n            const loadManifest = {\n                \"PDFPageViewer.useEffect.loadManifest\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                        if (!response.ok) {\n                            const errorData = await response.json();\n                            setError(errorData.error || `Erreur ${response.status}`);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        const data = await response.json();\n                        if (data.status === \"processing\") {\n                            retryCount++;\n                            if (retryCount >= MAX_RETRIES) {\n                                setError(\"La génération des pages prend trop de temps. Veuillez réessayer plus tard.\");\n                                setLoading(false);\n                                return;\n                            }\n                            // Continuer le polling\n                            setManifest(data);\n                            setLoading(true);\n                            return;\n                        }\n                        if (data.error) {\n                            setError(data.error);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        // Pages prêtes ! Arrêter le polling\n                        setManifest(data);\n                        setLoading(false);\n                        if (pollInterval) {\n                            clearInterval(pollInterval);\n                            pollInterval = null;\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur lors du chargement:\", err);\n                        setError(err.message || \"Erreur de chargement\");\n                        setLoading(false);\n                        if (pollInterval) clearInterval(pollInterval);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.loadManifest\"];\n            if (fileId && token) {\n                loadManifest();\n                // Polling toutes les 2 secondes\n                pollInterval = setInterval({\n                    \"PDFPageViewer.useEffect\": ()=>{\n                        loadManifest();\n                    }\n                }[\"PDFPageViewer.useEffect\"], 2000);\n            } else {\n                setError(\"Paramètres manquants\");\n                setLoading(false);\n            }\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    if (pollInterval) clearInterval(pollInterval);\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Lazy loading avec IntersectionObserver\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!manifest || manifest.status !== \"ready\" || !containerRef.current) return;\n            const observer = new IntersectionObserver({\n                \"PDFPageViewer.useEffect\": (entries)=>{\n                    entries.forEach({\n                        \"PDFPageViewer.useEffect\": (entry)=>{\n                            if (entry.isIntersecting) {\n                                const pageIndex = parseInt(entry.target.getAttribute(\"data-page-index\") || \"0\");\n                                if (!loadedPagesRef.current.has(pageIndex)) {\n                                    loadedPagesRef.current.add(pageIndex);\n                                }\n                            }\n                        }\n                    }[\"PDFPageViewer.useEffect\"]);\n                }\n            }[\"PDFPageViewer.useEffect\"], {\n                root: containerRef.current,\n                rootMargin: \"200px\",\n                threshold: 0.1\n            });\n            const pageElements = containerRef.current.querySelectorAll(\"[data-page-index]\");\n            pageElements.forEach({\n                \"PDFPageViewer.useEffect\": (el)=>observer.observe(el)\n            }[\"PDFPageViewer.useEffect\"]);\n            observerRef.current = observer;\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    observer.disconnect();\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        manifest\n    ]);\n    const handleDownload = async ()=>{\n        if (!manifest?.downloadAllowed) return;\n        try {\n            const response = await fetch(`/api/share/file/${fileId}/download`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    token\n                })\n            });\n            const data = await response.json();\n            if (data.downloadUrl) {\n                window.open(data.downloadUrl, \"_blank\");\n            } else {\n                alert(data.error || \"Erreur lors du téléchargement\");\n            }\n        } catch (err) {\n            alert(\"Erreur lors du téléchargement\");\n        }\n    };\n    if (loading && !manifest) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 348,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Chargement...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 349,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 347,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 346,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4 max-w-md px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-500 font-medium\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 359,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 358,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 357,\n            columnNumber: 7\n        }, this);\n    }\n    if (manifest?.status === \"processing\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 369,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: manifest.message || \"Génération des pages watermarkées en cours...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 370,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-black/40\",\n                        children: \"Cela peut prendre quelques instants pour les gros fichiers\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 373,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 368,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 367,\n            columnNumber: 7\n        }, this);\n    }\n    if (!manifest || manifest.status !== \"ready\" || !manifest.pageUrls) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-black/60\",\n                    children: \"Aucune page disponible\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 383,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 382,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 381,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full flex flex-col\",\n        children: [\n            manifest.downloadAllowed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleDownload,\n                    className: \"px-4 py-2 bg-black text-white rounded-xl font-medium hover:bg-black/90 transition-all flex items-center gap-2 shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 398,\n                            columnNumber: 13\n                        }, this),\n                        \"T\\xe9l\\xe9charger\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 394,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 393,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                className: \"flex-1 overflow-y-auto overflow-x-hidden relative z-10\",\n                style: {\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    scrollbarWidth: \"thin\",\n                    scrollbarColor: \"rgba(0, 0, 0, 0.2) transparent\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center py-8 space-y-4\",\n                    children: manifest.pageUrls.map((pageUrl, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                            \"data-page-index\": index,\n                            initial: {\n                                opacity: 0,\n                                y: 20\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                duration: 0.3\n                            },\n                            className: \"relative bg-white shadow-lg rounded-lg overflow-hidden\",\n                            style: {\n                                maxWidth: \"90%\",\n                                width: \"100%\",\n                                maxWidth: \"1200px\"\n                            },\n                            onContextMenu: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                e.stopImmediatePropagation();\n                                return false;\n                            },\n                            onMouseDown: (e)=>{\n                                // Détecter si c'est un clic ou un scroll\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onClick: (e)=>{\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onDragStart: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                return false;\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none z-10\",\n                                    style: {\n                                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='500' height='320' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='36' font-weight='900' font-family='Arial, sans-serif' fill='rgba(0,0,0,0.15)' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45 250 160)'%3ECONFIDENTIEL AIRLOCK%3C/text%3E%3C/svg%3E\")`,\n                                        backgroundRepeat: \"repeat\",\n                                        backgroundSize: \"500px 320px\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 473,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PageCanvas, {\n                                    pageUrl: pageUrl,\n                                    pageNumber: index + 1,\n                                    totalPages: manifest.pageCount || 0\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 482,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-lg text-xs font-medium z-20\",\n                                    children: [\n                                        \"Page \",\n                                        index + 1,\n                                        \" / \",\n                                        manifest.pageCount\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 488,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 429,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 427,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 406,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 390,\n        columnNumber: 5\n    }, this);\n}\n_s1(PDFPageViewer, \"JLixsetgroCRfX29F8PD80ACWpc=\");\n_c1 = PDFPageViewer;\nvar _c, _c1;\n$RefreshReg$(_c, \"PageCanvas\");\n$RefreshReg$(_c1, \"PDFPageViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3NoYXJlZC9QREZQYWdlVmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUU7QUFDMUI7QUFDVTtBQUVqRCw2RUFBNkU7QUFDN0UsU0FBU00sV0FBVyxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUErRDs7SUFDbEgsTUFBTUMsWUFBWVIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sQ0FBQ1MsUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUVyQ0QsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNRSxNQUFNLElBQUlDO1lBQ2hCRCxJQUFJRSxXQUFXLEdBQUc7WUFFbEJGLElBQUlHLE1BQU07d0NBQUc7b0JBQ1gsTUFBTUMsTUFBTU4sT0FBT08sVUFBVSxDQUFDLE1BQU07d0JBQUVDLG9CQUFvQjtvQkFBTTtvQkFDaEUsSUFBSSxDQUFDRixLQUFLO29CQUVWLHdDQUF3QztvQkFDeENOLE9BQU9TLEtBQUssR0FBR1AsSUFBSU8sS0FBSztvQkFDeEJULE9BQU9VLE1BQU0sR0FBR1IsSUFBSVEsTUFBTTtvQkFFMUIsbUJBQW1CO29CQUNuQkosSUFBSUssU0FBUyxDQUFDVCxLQUFLLEdBQUc7b0JBRXRCLDhFQUE4RTtvQkFDOUUsK0VBQStFO29CQUMvRUgsVUFBVTtnQkFDWjs7WUFFQUcsSUFBSVUsT0FBTzt3Q0FBRztvQkFDWkMsUUFBUUMsS0FBSyxDQUFDLENBQUMseUJBQXlCLEVBQUVuQixZQUFZO2dCQUN4RDs7WUFFQU8sSUFBSWEsR0FBRyxHQUFHckI7UUFDWjsrQkFBRztRQUFDQTtRQUFTQztLQUFXO0lBRXhCLDBEQUEwRDtJQUMxRFIsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNZ0I7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bmVudHMvc2hhcmVkL1BERlBhZ2VWaWV3ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuaW1wb3J0IHsgTG9hZGVyMiwgRG93bmxvYWQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbi8vIENvbXBvc2FudCBwb3VyIGFmZmljaGVyIHVuZSBwYWdlIHZpYSBjYW52YXMgKHBsdXMgZGlmZmljaWxlIMOgIHNhdXZlZ2FyZGVyKVxuZnVuY3Rpb24gUGFnZUNhbnZhcyh7IHBhZ2VVcmwsIHBhZ2VOdW1iZXIsIHRvdGFsUGFnZXMgfTogeyBwYWdlVXJsOiBzdHJpbmc7IHBhZ2VOdW1iZXI6IG51bWJlcjsgdG90YWxQYWdlczogbnVtYmVyIH0pIHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiBmYWxzZSB9KTtcbiAgICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICAgIC8vIEFqdXN0ZXIgbGEgdGFpbGxlIGR1IGNhbnZhcyDDoCBsJ2ltYWdlXG4gICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcblxuICAgICAgLy8gRGVzc2luZXIgbCdpbWFnZVxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuXG4gICAgICAvLyBEw6lzYWN0aXZlciBjZXJ0YWluZXMgbcOpdGhvZGVzIGR1IGNhbnZhcyBwb3VyIHJlbmRyZSBwbHVzIGRpZmZpY2lsZSBsJ2V4cG9ydFxuICAgICAgLy8gKE5vdGU6IGNlbGEgbmUgcGV1dCBwYXMgw6p0cmUgY29tcGzDqHRlbWVudCBlbXDDqmNow6ksIG1haXMgcmVuZCBwbHVzIGRpZmZpY2lsZSlcbiAgICAgIHNldExvYWRlZCh0cnVlKTtcbiAgICB9O1xuXG4gICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyZXVyIGNoYXJnZW1lbnQgcGFnZSAke3BhZ2VOdW1iZXJ9YCk7XG4gICAgfTtcblxuICAgIGltZy5zcmMgPSBwYWdlVXJsO1xuICB9LCBbcGFnZVVybCwgcGFnZU51bWJlcl0pO1xuXG4gIC8vIFByb3RlY3Rpb24gc3VwcGzDqW1lbnRhaXJlIDogZW1ww6pjaGVyIGwnZXhwb3J0IGR1IGNhbnZhc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCBwcmV2ZW50RXhwb3J0ID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBCbG9xdWVyIGxlcyDDqXbDqW5lbWVudHMgc3VyIGxlIGNhbnZhc1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH07XG4gIH0sIFtsb2FkZWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsXCI+XG4gICAgICA8Y2FudmFzXG4gICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGJsb2NrXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBXZWJraXRVc2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBXZWJraXRUb3VjaENhbGxvdXQ6IFwibm9uZVwiLFxuICAgICAgICAgIHRvdWNoQWN0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICBpbWFnZVJlbmRlcmluZzogXCJoaWdoLXF1YWxpdHlcIixcbiAgICAgICAgfX1cbiAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX1cbiAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgeyFsb2FkZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0xMDBcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTYgaC02IGFuaW1hdGUtc3BpbiB0ZXh0LWJsYWNrLzQwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5pbnRlcmZhY2UgUERGUGFnZVZpZXdlclByb3BzIHtcbiAgZmlsZUlkOiBzdHJpbmc7XG4gIHRva2VuOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYW5pZmVzdCB7XG4gIHN0YXR1czogXCJyZWFkeVwiIHwgXCJwcm9jZXNzaW5nXCI7XG4gIHBhZ2VDb3VudD86IG51bWJlcjtcbiAgcGFnZVVybHM/OiBzdHJpbmdbXTtcbiAgZG93bmxvYWRBbGxvd2VkPzogYm9vbGVhbjtcbiAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBERlBhZ2VWaWV3ZXIoeyBmaWxlSWQsIHRva2VuLCBmaWxlTmFtZSB9OiBQREZQYWdlVmlld2VyUHJvcHMpIHtcbiAgY29uc3QgW21hbmlmZXN0LCBzZXRNYW5pZmVzdF0gPSB1c2VTdGF0ZTxNYW5pZmVzdCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWY8SW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbG9hZGVkUGFnZXNSZWYgPSB1c2VSZWY8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IG92ZXJsYXlSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIFByb3RlY3Rpb24gZ2xvYmFsZSBjb250cmUgbGVzIHTDqWzDqWNoYXJnZW1lbnRzIGV0IGNhcHR1cmVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQmxvcXVlciBsZXMgcmFjY291cmNpcyBjbGF2aWVyXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAvLyBDdHJsK1MsIEN0cmwrUCwgQ3RybCtBLCBGMTIsIFByaW50IFNjcmVlbiwgZXRjLlxuICAgICAgaWYgKFxuICAgICAgICAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgKGUua2V5ID09PSAncycgfHwgZS5rZXkgPT09ICdwJyB8fCBlLmtleSA9PT0gJ2EnIHx8IGUua2V5ID09PSAndScgfHwgZS5rZXkgPT09ICdpJykgfHxcbiAgICAgICAgZS5rZXkgPT09ICdGMTInIHx8XG4gICAgICAgIGUua2V5ID09PSAnUHJpbnRTY3JlZW4nIHx8XG4gICAgICAgIChlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnRjEyJylcbiAgICAgICkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsZSBtZW51IGNvbnRleHR1ZWxcbiAgICBjb25zdCBoYW5kbGVDb250ZXh0TWVudSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsZSBkcmFnIGFuZCBkcm9wXG4gICAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsYSBzw6lsZWN0aW9uIGRlIHRleHRlXG4gICAgY29uc3QgaGFuZGxlU2VsZWN0U3RhcnQgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsYSBjb3BpZVxuICAgIGNvbnN0IGhhbmRsZUNvcHkgPSAoZTogQ2xpcGJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGUgY2xpYyBkcm9pdCBldCBsZSBjbGljIGdhdWNoZSBzdXIgbGVzIGltYWdlc1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAvLyBCbG9xdWVyIHRvdXMgbGVzIGNsaWNzIHN1ciBsZXMgaW1hZ2VzXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBam91dGVyIGxlcyDDqWNvdXRldXJzIGF2ZWMgY2FwdHVyZSBwb3VyIGludGVyY2VwdGVyIHTDtHRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93biwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgaGFuZGxlQ29udGV4dE1lbnUsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnU3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGhhbmRsZVNlbGVjdFN0YXJ0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGhhbmRsZUNvcHksIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIETDqXNhY3RpdmVyIGxhIHPDqWxlY3Rpb24gZGUgdGV4dGUgZ2xvYmFsZW1lbnRcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJ25vbmUnO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZUNvbnRleHRNZW51LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnU3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgaGFuZGxlU2VsZWN0U3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCBoYW5kbGVDb3B5LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICcnO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJyc7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIENoYXJnZXIgbGUgbWFuaWZlc3QgYXZlYyBwb2xsaW5nIHNpIGVuIGNvdXJzIGRlIGfDqW7DqXJhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBwb2xsSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgIGNvbnN0IE1BWF9SRVRSSUVTID0gMzA7IC8vIDMwIHRlbnRhdGl2ZXMgPSAxIG1pbnV0ZSBtYXggKHBvbGxpbmcgdG91dGVzIGxlcyAycylcblxuICAgIGNvbnN0IGxvYWRNYW5pZmVzdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYC9hcGkvc2hhcmUvZmlsZS8ke2ZpbGVJZH0vdmlld2VyLW1hbmlmZXN0P3Rva2VuPSR7dG9rZW59YFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEVycmV1ciAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBpZiAocG9sbEludGVydmFsKSBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IFwicHJvY2Vzc2luZ1wiKSB7XG4gICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgIGlmIChyZXRyeUNvdW50ID49IE1BWF9SRVRSSUVTKSB7XG4gICAgICAgICAgICBzZXRFcnJvcihcIkxhIGfDqW7DqXJhdGlvbiBkZXMgcGFnZXMgcHJlbmQgdHJvcCBkZSB0ZW1wcy4gVmV1aWxsZXogcsOpZXNzYXllciBwbHVzIHRhcmQuXCIpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbnRpbnVlciBsZSBwb2xsaW5nXG4gICAgICAgICAgc2V0TWFuaWZlc3QoZGF0YSk7XG4gICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgIHNldEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYWdlcyBwcsOqdGVzICEgQXJyw6p0ZXIgbGUgcG9sbGluZ1xuICAgICAgICBzZXRNYW5pZmVzdChkYXRhKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGlmIChwb2xsSW50ZXJ2YWwpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICAgICAgcG9sbEludGVydmFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQ6XCIsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwiRXJyZXVyIGRlIGNoYXJnZW1lbnRcIik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBpZiAocG9sbEludGVydmFsKSBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChmaWxlSWQgJiYgdG9rZW4pIHtcbiAgICAgIGxvYWRNYW5pZmVzdCgpO1xuICAgICAgLy8gUG9sbGluZyB0b3V0ZXMgbGVzIDIgc2Vjb25kZXNcbiAgICAgIHBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgbG9hZE1hbmlmZXN0KCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IoXCJQYXJhbcOodHJlcyBtYW5xdWFudHNcIik7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHBvbGxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtmaWxlSWQsIHRva2VuXSk7XG5cbiAgLy8gTGF6eSBsb2FkaW5nIGF2ZWMgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1hbmlmZXN0IHx8IG1hbmlmZXN0LnN0YXR1cyAhPT0gXCJyZWFkeVwiIHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSBwYXJzZUludChcbiAgICAgICAgICAgICAgZW50cnkudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZS1pbmRleFwiKSB8fCBcIjBcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghbG9hZGVkUGFnZXNSZWYuY3VycmVudC5oYXMocGFnZUluZGV4KSkge1xuICAgICAgICAgICAgICBsb2FkZWRQYWdlc1JlZi5jdXJyZW50LmFkZChwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb290OiBjb250YWluZXJSZWYuY3VycmVudCxcbiAgICAgICAgcm9vdE1hcmdpbjogXCIyMDBweFwiLCAvLyBQcsOpY2hhcmdlciAyMDBweCBhdmFudFxuICAgICAgICB0aHJlc2hvbGQ6IDAuMSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgcGFnZUVsZW1lbnRzID0gY29udGFpbmVyUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXBhZ2UtaW5kZXhdXCIpO1xuICAgIHBhZ2VFbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xuXG4gICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbbWFuaWZlc3RdKTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW1hbmlmZXN0Py5kb3dubG9hZEFsbG93ZWQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NoYXJlL2ZpbGUvJHtmaWxlSWR9L2Rvd25sb2FkYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW4gfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLmRvd25sb2FkVXJsKSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGRhdGEuZG93bmxvYWRVcmwsIFwiX2JsYW5rXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoZGF0YS5lcnJvciB8fCBcIkVycmV1ciBsb3JzIGR1IHTDqWzDqWNoYXJnZW1lbnRcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydChcIkVycmV1ciBsb3JzIGR1IHTDqWzDqWNoYXJnZW1lbnRcIik7XG4gICAgfVxuICB9O1xuXG4gIGlmIChsb2FkaW5nICYmICFtYW5pZmVzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtYmxhY2svNDAgbXgtYXV0b1wiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsYWNrLzYwXCI+Q2hhcmdlbWVudC4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00IG1heC13LW1kIHB4LTRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgZm9udC1tZWRpdW1cIj57ZXJyb3J9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAobWFuaWZlc3Q/LnN0YXR1cyA9PT0gXCJwcm9jZXNzaW5nXCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiB0ZXh0LWJsYWNrLzQwIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibGFjay82MFwiPlxuICAgICAgICAgICAge21hbmlmZXN0Lm1lc3NhZ2UgfHwgXCJHw6luw6lyYXRpb24gZGVzIHBhZ2VzIHdhdGVybWFya8OpZXMgZW4gY291cnMuLi5cIn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsYWNrLzQwXCI+Q2VsYSBwZXV0IHByZW5kcmUgcXVlbHF1ZXMgaW5zdGFudHMgcG91ciBsZXMgZ3JvcyBmaWNoaWVyczwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFtYW5pZmVzdCB8fCBtYW5pZmVzdC5zdGF0dXMgIT09IFwicmVhZHlcIiB8fCAhbWFuaWZlc3QucGFnZVVybHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrLzYwXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgey8qIEhlYWRlciBhdmVjIGJvdXRvbiBkb3dubG9hZCBzaSBhdXRvcmlzw6kgKi99XG4gICAgICB7bWFuaWZlc3QuZG93bmxvYWRBbGxvd2VkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHotNTBcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibGFjayB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgZm9udC1tZWRpdW0gaG92ZXI6YmctYmxhY2svOTAgdHJhbnNpdGlvbi1hbGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc2hhZG93LWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICBUw6lsw6ljaGFyZ2VyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuXG4gICAgICB7LyogQ29udGFpbmVyIHNjcm9sbGFibGUgYXZlYyBwYWdlcyAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gb3ZlcmZsb3cteC1oaWRkZW4gcmVsYXRpdmUgei0xMFwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6IFwidGhpblwiLFxuICAgICAgICAgIHNjcm9sbGJhckNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMC4yKSB0cmFuc3BhcmVudFwiLFxuICAgICAgICB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcHktOCBzcGFjZS15LTRcIj5cbiAgICAgICAgICB7bWFuaWZlc3QucGFnZVVybHMubWFwKChwYWdlVXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgZGF0YS1wYWdlLWluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLXdoaXRlIHNoYWRvdy1sZyByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiOTAlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjEyMDBweFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBEw6l0ZWN0ZXIgc2kgYydlc3QgdW4gY2xpYyBvdSB1biBzY3JvbGxcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnIHx8IHRhcmdldC5jbG9zZXN0KCdpbWcnKSkge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpKSB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgey8qIEZpbGlncmFuZSBlbiBvdmVybGF5IChiYWNrdXAgc2kgcGFzIGRhbnMgbCdpbWFnZSkgKi99XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzUwMCcgaGVpZ2h0PSczMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0N0ZXh0IHg9JzUwJTI1JyB5PSc1MCUyNScgZm9udC1zaXplPSczNicgZm9udC13ZWlnaHQ9JzkwMCcgZm9udC1mYW1pbHk9J0FyaWFsLCBzYW5zLXNlcmlmJyBmaWxsPSdyZ2JhKDAsMCwwLDAuMTUpJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkb21pbmFudC1iYXNlbGluZT0nbWlkZGxlJyB0cmFuc2Zvcm09J3JvdGF0ZSgtNDUgMjUwIDE2MCknJTNFQ09ORklERU5USUVMIEFJUkxPQ0slM0MvdGV4dCUzRSUzQy9zdmclM0VcIilgLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJyZXBlYXRcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcIjUwMHB4IDMyMHB4XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgey8qIEltYWdlIGRlIGxhIHBhZ2UgLSBVdGlsaXNlciBjYW52YXMgcG91ciByZW5kcmUgcGx1cyBkaWZmaWNpbGUgbGUgXCJzYXZlIGFzXCIgKi99XG4gICAgICAgICAgICAgIDxQYWdlQ2FudmFzXG4gICAgICAgICAgICAgICAgcGFnZVVybD17cGFnZVVybH1cbiAgICAgICAgICAgICAgICBwYWdlTnVtYmVyPXtpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgdG90YWxQYWdlcz17bWFuaWZlc3QucGFnZUNvdW50IHx8IDB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHsvKiBOdW3DqXJvIGRlIHBhZ2UgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCBiZy1ibGFjay81MCB0ZXh0LXdoaXRlIHB4LTMgcHktMSByb3VuZGVkLWxnIHRleHQteHMgZm9udC1tZWRpdW0gei0yMFwiPlxuICAgICAgICAgICAgICAgIFBhZ2Uge2luZGV4ICsgMX0gLyB7bWFuaWZlc3QucGFnZUNvdW50fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwibW90aW9uIiwiTG9hZGVyMiIsIkRvd25sb2FkIiwiUGFnZUNhbnZhcyIsInBhZ2VVcmwiLCJwYWdlTnVtYmVyIiwidG90YWxQYWdlcyIsImNhbnZhc1JlZiIsImxvYWRlZCIsInNldExvYWRlZCIsImNhbnZhcyIsImN1cnJlbnQiLCJpbWciLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25sb2FkIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpbGxSZWFkRnJlcXVlbnRseSIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwib25lcnJvciIsImNvbnNvbGUiLCJlcnJvciIsInNyYyIsInByZXZlbnRFeHBvcnQiLCJlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiY2FwdHVyZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJzdHlsZSIsInBvaW50ZXJFdmVudHMiLCJ1c2VyU2VsZWN0IiwiV2Via2l0VXNlclNlbGVjdCIsIldlYmtpdFRvdWNoQ2FsbG91dCIsInRvdWNoQWN0aW9uIiwiaW1hZ2VSZW5kZXJpbmciLCJvbkNvbnRleHRNZW51Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib25Nb3VzZURvd24iLCJvbkNsaWNrIiwib25EcmFnU3RhcnQiLCJQREZQYWdlVmlld2VyIiwiZmlsZUlkIiwidG9rZW4iLCJmaWxlTmFtZSIsIm1hbmlmZXN0Iiwic2V0TWFuaWZlc3QiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwiY29udGFpbmVyUmVmIiwib2JzZXJ2ZXJSZWYiLCJsb2FkZWRQYWdlc1JlZiIsIlNldCIsIm92ZXJsYXlSZWYiLCJoYW5kbGVLZXlEb3duIiwiY3RybEtleSIsIm1ldGFLZXkiLCJrZXkiLCJzaGlmdEtleSIsImhhbmRsZUNvbnRleHRNZW51IiwiaGFuZGxlRHJhZ1N0YXJ0IiwiaGFuZGxlU2VsZWN0U3RhcnQiLCJoYW5kbGVDb3B5IiwiaGFuZGxlTW91c2VEb3duIiwidGFyZ2V0IiwidGFnTmFtZSIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImJvZHkiLCJ3ZWJraXRVc2VyU2VsZWN0IiwicG9sbEludGVydmFsIiwicmV0cnlDb3VudCIsIk1BWF9SRVRSSUVTIiwibG9hZE1hbmlmZXN0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsInN0YXR1cyIsImNsZWFySW50ZXJ2YWwiLCJkYXRhIiwiZXJyIiwibWVzc2FnZSIsInNldEludGVydmFsIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInBhZ2VJbmRleCIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiaGFzIiwiYWRkIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJwYWdlRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImhhbmRsZURvd25sb2FkIiwiZG93bmxvYWRBbGxvd2VkIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkb3dubG9hZFVybCIsIndpbmRvdyIsIm9wZW4iLCJhbGVydCIsInAiLCJwYWdlVXJscyIsImJ1dHRvbiIsInNjcm9sbGJhcldpZHRoIiwic2Nyb2xsYmFyQ29sb3IiLCJtYXAiLCJpbmRleCIsImRhdGEtcGFnZS1pbmRleCIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsImFuaW1hdGUiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJtYXhXaWR0aCIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kU2l6ZSIsInBhZ2VDb3VudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx\n"));

/***/ })

});