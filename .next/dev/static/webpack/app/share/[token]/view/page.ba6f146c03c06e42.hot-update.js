"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/share/[token]/view/page",{

/***/ "(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx":
/*!*************************************************!*\
  !*** ./src/components/shared/PDFPageViewer.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFPageViewer: () => (/* binding */ PDFPageViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Download,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* __next_internal_client_entry_do_not_use__ PDFPageViewer auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n// Composant pour afficher une page via canvas (plus difficile à sauvegarder)\nfunction PageCanvas({ pageUrl, pageNumber, totalPages }) {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.onload = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    const ctx = canvas.getContext('2d', {\n                        willReadFrequently: false\n                    });\n                    if (!ctx) return;\n                    // Ajuster la taille du canvas à l'image\n                    canvas.width = img.width;\n                    canvas.height = img.height;\n                    // Dessiner l'image\n                    ctx.drawImage(img, 0, 0);\n                    // Désactiver certaines méthodes du canvas pour rendre plus difficile l'export\n                    // (Note: cela ne peut pas être complètement empêché, mais rend plus difficile)\n                    setLoaded(true);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.onerror = ({\n                \"PageCanvas.useEffect\": ()=>{\n                    console.error(`❌ Erreur chargement page ${pageNumber}`);\n                }\n            })[\"PageCanvas.useEffect\"];\n            img.src = pageUrl;\n        }\n    }[\"PageCanvas.useEffect\"], [\n        pageUrl,\n        pageNumber\n    ]);\n    // Protection supplémentaire : empêcher l'export du canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageCanvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const preventExport = {\n                \"PageCanvas.useEffect.preventExport\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PageCanvas.useEffect.preventExport\"];\n            // Bloquer les événements sur le canvas\n            canvas.addEventListener('contextmenu', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('mousedown', preventExport, {\n                capture: true\n            });\n            canvas.addEventListener('click', preventExport, {\n                capture: true\n            });\n            return ({\n                \"PageCanvas.useEffect\": ()=>{\n                    canvas.removeEventListener('contextmenu', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('mousedown', preventExport, {\n                        capture: true\n                    });\n                    canvas.removeEventListener('click', preventExport, {\n                        capture: true\n                    });\n                }\n            })[\"PageCanvas.useEffect\"];\n        }\n    }[\"PageCanvas.useEffect\"], [\n        loaded\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                className: \"w-full h-auto block\",\n                style: {\n                    pointerEvents: \"none\",\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    WebkitTouchCallout: \"none\",\n                    touchAction: \"none\",\n                    imageRendering: \"high-quality\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onMouseDown: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            !loaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    className: \"w-6 h-6 animate-spin text-black/40\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\n_s(PageCanvas, \"4mBQWWl8obzKs4C+yM1x3Qp8zJM=\");\n_c = PageCanvas;\nfunction PDFPageViewer({ fileId, token, fileName }) {\n    _s1();\n    const [manifest, setManifest] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [shareId, setShareId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loadedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Récupérer le shareId depuis le token\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            const fetchShareId = {\n                \"PDFPageViewer.useEffect.fetchShareId\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                        if (response.ok) {\n                            const data = await response.json();\n                            // Extraire le shareId depuis les pageUrls si disponibles\n                            if (data.pageUrls && data.pageUrls.length > 0) {\n                                const match = data.pageUrls[0].match(/\\/api\\/share\\/([^/]+)\\//);\n                                if (match) {\n                                    setShareId(match[1]);\n                                    return;\n                                }\n                            }\n                        // Sinon, utiliser l'ancienne route pour récupérer le shareId\n                        // On va utiliser l'API viewer-manifest qui contient le shareId dans les URLs\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur récupération shareId:\", err);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.fetchShareId\"];\n            fetchShareId();\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Protection globale contre les téléchargements et captures\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            // Bloquer les raccourcis clavier\n            const handleKeyDown = {\n                \"PDFPageViewer.useEffect.handleKeyDown\": (e)=>{\n                    // Ctrl+S, Ctrl+P, Ctrl+A, F12, Print Screen, etc.\n                    if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'p' || e.key === 'a' || e.key === 'u' || e.key === 'i') || e.key === 'F12' || e.key === 'PrintScreen' || e.shiftKey && e.key === 'F12') {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleKeyDown\"];\n            // Bloquer le menu contextuel\n            const handleContextMenu = {\n                \"PDFPageViewer.useEffect.handleContextMenu\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleContextMenu\"];\n            // Bloquer le drag and drop\n            const handleDragStart = {\n                \"PDFPageViewer.useEffect.handleDragStart\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleDragStart\"];\n            // Bloquer la sélection de texte\n            const handleSelectStart = {\n                \"PDFPageViewer.useEffect.handleSelectStart\": (e)=>{\n                    e.preventDefault();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleSelectStart\"];\n            // Bloquer la copie\n            const handleCopy = {\n                \"PDFPageViewer.useEffect.handleCopy\": (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n            }[\"PDFPageViewer.useEffect.handleCopy\"];\n            // Bloquer le clic droit et le clic gauche sur les images\n            const handleMouseDown = {\n                \"PDFPageViewer.useEffect.handleMouseDown\": (e)=>{\n                    // Bloquer tous les clics sur les images\n                    const target = e.target;\n                    if (target.tagName === 'IMG' || target.closest('img')) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                        return false;\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.handleMouseDown\"];\n            // Ajouter les écouteurs avec capture pour intercepter tôt\n            document.addEventListener('keydown', handleKeyDown, {\n                capture: true\n            });\n            document.addEventListener('contextmenu', handleContextMenu, {\n                capture: true\n            });\n            document.addEventListener('dragstart', handleDragStart, {\n                capture: true\n            });\n            document.addEventListener('selectstart', handleSelectStart, {\n                capture: true\n            });\n            document.addEventListener('copy', handleCopy, {\n                capture: true\n            });\n            document.addEventListener('mousedown', handleMouseDown, {\n                capture: true\n            });\n            // Désactiver la sélection de texte globalement\n            document.body.style.userSelect = 'none';\n            document.body.style.webkitUserSelect = 'none';\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    document.removeEventListener('keydown', handleKeyDown, {\n                        capture: true\n                    });\n                    document.removeEventListener('contextmenu', handleContextMenu, {\n                        capture: true\n                    });\n                    document.removeEventListener('dragstart', handleDragStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('selectstart', handleSelectStart, {\n                        capture: true\n                    });\n                    document.removeEventListener('copy', handleCopy, {\n                        capture: true\n                    });\n                    document.removeEventListener('mousedown', handleMouseDown, {\n                        capture: true\n                    });\n                    document.body.style.userSelect = '';\n                    document.body.style.webkitUserSelect = '';\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], []);\n    // Récupérer le shareId depuis l'ancienne route viewer-manifest\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            const fetchShareId = {\n                \"PDFPageViewer.useEffect.fetchShareId\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/file/${fileId}/viewer-manifest?token=${token}`);\n                        if (response.ok) {\n                            const data = await response.json();\n                            // Extraire le shareId depuis les pageUrls si disponibles\n                            if (data.pageUrls && data.pageUrls.length > 0) {\n                                const match = data.pageUrls[0].match(/\\/api\\/share\\/([^/]+)\\//);\n                                if (match) {\n                                    setShareId(match[1]);\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur récupération shareId:\", err);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.fetchShareId\"];\n            fetchShareId();\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token\n    ]);\n    // Charger le manifest avec polling si en cours de génération\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!shareId) return; // Attendre que shareId soit disponible\n            let pollInterval = null;\n            let retryCount = 0;\n            const MAX_RETRIES = 30; // 30 tentatives = 1 minute max (polling toutes les 2s)\n            const loadManifest = {\n                \"PDFPageViewer.useEffect.loadManifest\": async ()=>{\n                    try {\n                        const response = await fetch(`/api/share/${shareId}/file/${fileId}/manifest?token=${token}`);\n                        if (!response.ok) {\n                            const errorData = await response.json();\n                            setError(errorData.error || `Erreur ${response.status}`);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        const data = await response.json();\n                        if (data.status === \"processing\") {\n                            retryCount++;\n                            if (retryCount >= MAX_RETRIES) {\n                                setError(\"La génération des pages prend trop de temps. Veuillez réessayer plus tard.\");\n                                setLoading(false);\n                                return;\n                            }\n                            // Continuer le polling\n                            setManifest(data);\n                            setLoading(true);\n                            return;\n                        }\n                        if (data.error) {\n                            setError(data.error);\n                            setLoading(false);\n                            if (pollInterval) clearInterval(pollInterval);\n                            return;\n                        }\n                        // Pages prêtes ! Arrêter le polling\n                        setManifest(data);\n                        setLoading(false);\n                        if (pollInterval) {\n                            clearInterval(pollInterval);\n                            pollInterval = null;\n                        }\n                    } catch (err) {\n                        console.error(\"Erreur lors du chargement:\", err);\n                        setError(err.message || \"Erreur de chargement\");\n                        setLoading(false);\n                        if (pollInterval) clearInterval(pollInterval);\n                    }\n                }\n            }[\"PDFPageViewer.useEffect.loadManifest\"];\n            if (fileId && token && shareId) {\n                loadManifest();\n                // Polling toutes les 2 secondes\n                pollInterval = setInterval({\n                    \"PDFPageViewer.useEffect\": ()=>{\n                        loadManifest();\n                    }\n                }[\"PDFPageViewer.useEffect\"], 2000);\n            } else if (!shareId) {\n                // Attendre que shareId soit disponible\n                return;\n            } else {\n                setError(\"Paramètres manquants\");\n                setLoading(false);\n            }\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    if (pollInterval) clearInterval(pollInterval);\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        fileId,\n        token,\n        shareId\n    ]);\n    // Lazy loading avec IntersectionObserver\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PDFPageViewer.useEffect\": ()=>{\n            if (!manifest || manifest.status !== \"ready\" || !containerRef.current) return;\n            const observer = new IntersectionObserver({\n                \"PDFPageViewer.useEffect\": (entries)=>{\n                    entries.forEach({\n                        \"PDFPageViewer.useEffect\": (entry)=>{\n                            if (entry.isIntersecting) {\n                                const pageIndex = parseInt(entry.target.getAttribute(\"data-page-index\") || \"0\");\n                                if (!loadedPagesRef.current.has(pageIndex)) {\n                                    loadedPagesRef.current.add(pageIndex);\n                                }\n                            }\n                        }\n                    }[\"PDFPageViewer.useEffect\"]);\n                }\n            }[\"PDFPageViewer.useEffect\"], {\n                root: containerRef.current,\n                rootMargin: \"200px\",\n                threshold: 0.1\n            });\n            const pageElements = containerRef.current.querySelectorAll(\"[data-page-index]\");\n            pageElements.forEach({\n                \"PDFPageViewer.useEffect\": (el)=>observer.observe(el)\n            }[\"PDFPageViewer.useEffect\"]);\n            observerRef.current = observer;\n            return ({\n                \"PDFPageViewer.useEffect\": ()=>{\n                    observer.disconnect();\n                }\n            })[\"PDFPageViewer.useEffect\"];\n        }\n    }[\"PDFPageViewer.useEffect\"], [\n        manifest\n    ]);\n    const handleDownload = async ()=>{\n        if (!manifest?.downloadAllowed) return;\n        try {\n            const response = await fetch(`/api/share/file/${fileId}/download`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    token\n                })\n            });\n            const data = await response.json();\n            if (data.downloadUrl) {\n                window.open(data.downloadUrl, \"_blank\");\n            } else {\n                alert(data.error || \"Erreur lors du téléchargement\");\n            }\n        } catch (err) {\n            alert(\"Erreur lors du téléchargement\");\n        }\n    };\n    if (loading && !manifest) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 404,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Chargement...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 405,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 403,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 402,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4 max-w-md px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-500 font-medium\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 415,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 414,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 413,\n            columnNumber: 7\n        }, this);\n    }\n    if (!shareId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 425,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: \"Initialisation...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 426,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 424,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 423,\n            columnNumber: 7\n        }, this);\n    }\n    if (manifest?.status === \"processing\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-8 h-8 animate-spin text-black/40 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 436,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-black/60\",\n                        children: manifest.message || \"Génération des pages watermarkées en cours...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-black/40\",\n                        children: \"Cela peut prendre quelques instants pour les gros fichiers\"\n                    }, void 0, false, {\n                        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                        lineNumber: 440,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 435,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 434,\n            columnNumber: 7\n        }, this);\n    }\n    if (!manifest || manifest.status !== \"ready\" || !manifest.pageUrls) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-black/60\",\n                    children: \"Aucune page disponible\"\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 450,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 449,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n            lineNumber: 448,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full flex flex-col\",\n        children: [\n            manifest.downloadAllowed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleDownload,\n                    className: \"px-4 py-2 bg-black text-white rounded-xl font-medium hover:bg-black/90 transition-all flex items-center gap-2 shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 465,\n                            columnNumber: 13\n                        }, this),\n                        \"T\\xe9l\\xe9charger\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 461,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 460,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                className: \"flex-1 overflow-y-auto overflow-x-hidden relative z-10\",\n                style: {\n                    userSelect: \"none\",\n                    WebkitUserSelect: \"none\",\n                    scrollbarWidth: \"thin\",\n                    scrollbarColor: \"rgba(0, 0, 0, 0.2) transparent\"\n                },\n                onContextMenu: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                    return false;\n                },\n                onDragStart: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center py-8 space-y-4\",\n                    children: manifest.pageUrls.map((pageUrl, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                            \"data-page-index\": index,\n                            initial: {\n                                opacity: 0,\n                                y: 20\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                duration: 0.3\n                            },\n                            className: \"relative bg-white shadow-lg rounded-lg overflow-hidden\",\n                            style: {\n                                maxWidth: \"90%\",\n                                width: \"100%\",\n                                maxWidth: \"1200px\"\n                            },\n                            onContextMenu: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                e.stopImmediatePropagation();\n                                return false;\n                            },\n                            onMouseDown: (e)=>{\n                                // Détecter si c'est un clic ou un scroll\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onClick: (e)=>{\n                                const target = e.target;\n                                if (target.tagName === 'IMG' || target.closest('img')) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    e.stopImmediatePropagation();\n                                    return false;\n                                }\n                            },\n                            onDragStart: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                return false;\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 pointer-events-none z-10\",\n                                    style: {\n                                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='500' height='320' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='36' font-weight='900' font-family='Arial, sans-serif' fill='rgba(0,0,0,0.15)' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45 250 160)'%3ECONFIDENTIEL AIRLOCK%3C/text%3E%3C/svg%3E\")`,\n                                        backgroundRepeat: \"repeat\",\n                                        backgroundSize: \"500px 320px\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 540,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: pageUrl,\n                                    alt: `Page ${index + 1}`,\n                                    className: \"w-full h-auto block\",\n                                    loading: \"lazy\",\n                                    style: {\n                                        pointerEvents: \"none\",\n                                        userSelect: \"none\",\n                                        WebkitUserSelect: \"none\",\n                                        draggable: false\n                                    },\n                                    onContextMenu: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        return false;\n                                    },\n                                    onDragStart: (e)=>{\n                                        e.preventDefault();\n                                        return false;\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 549,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-lg text-xs font-medium z-20\",\n                                    children: [\n                                        \"Page \",\n                                        index + 1,\n                                        \" / \",\n                                        manifest.pageCount\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                                    lineNumber: 571,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                            lineNumber: 496,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                    lineNumber: 494,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n                lineNumber: 473,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josephmichaut/Desktop/airlock/src/components/shared/PDFPageViewer.tsx\",\n        lineNumber: 457,\n        columnNumber: 5\n    }, this);\n}\n_s1(PDFPageViewer, \"iTOmmhl1JvtMMSgY7D7tYnDShs8=\");\n_c1 = PDFPageViewer;\nvar _c, _c1;\n$RefreshReg$(_c, \"PageCanvas\");\n$RefreshReg$(_c1, \"PDFPageViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3NoYXJlZC9QREZQYWdlVmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUU7QUFDMUI7QUFDVTtBQUVqRCw2RUFBNkU7QUFDN0UsU0FBU00sV0FBVyxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUErRDs7SUFDbEgsTUFBTUMsWUFBWVIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sQ0FBQ1MsUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUVyQ0QsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNRSxNQUFNLElBQUlDO1lBQ2hCRCxJQUFJRSxXQUFXLEdBQUc7WUFFbEJGLElBQUlHLE1BQU07d0NBQUc7b0JBQ1gsTUFBTUMsTUFBTU4sT0FBT08sVUFBVSxDQUFDLE1BQU07d0JBQUVDLG9CQUFvQjtvQkFBTTtvQkFDaEUsSUFBSSxDQUFDRixLQUFLO29CQUVWLHdDQUF3QztvQkFDeENOLE9BQU9TLEtBQUssR0FBR1AsSUFBSU8sS0FBSztvQkFDeEJULE9BQU9VLE1BQU0sR0FBR1IsSUFBSVEsTUFBTTtvQkFFMUIsbUJBQW1CO29CQUNuQkosSUFBSUssU0FBUyxDQUFDVCxLQUFLLEdBQUc7b0JBRXRCLDhFQUE4RTtvQkFDOUUsK0VBQStFO29CQUMvRUgsVUFBVTtnQkFDWjs7WUFFQUcsSUFBSVUsT0FBTzt3Q0FBRztvQkFDWkMsUUFBUUMsS0FBSyxDQUFDLENBQUMseUJBQXlCLEVBQUVuQixZQUFZO2dCQUN4RDs7WUFFQU8sSUFBSWEsR0FBRyxHQUFHckI7UUFDWjsrQkFBRztRQUFDQTtRQUFTQztLQUFXO0lBRXhCLDBEQUEwRDtJQUMxRFIsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsU0FBU0gsVUFBVUksT0FBTztZQUNoQyxJQUFJLENBQUNELFFBQVE7WUFFYixNQUFNZ0I7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QkFDQUcsYUFBYSxDQUFDcEI7Z0NBQ1pBLEVBQUVDLGNBQWM7Z0NBQ2hCRCxFQUFFRSxlQUFlO2dDQUNqQixPQUFPOzRCQUNUOzs4Q0FHQSw4REFBQ0k7b0NBQ0NDLFdBQVU7b0NBQ1ZFLE9BQU87d0NBQ0wwRyxpQkFBaUIsQ0FBQywrVUFBK1UsQ0FBQzt3Q0FDbFdDLGtCQUFrQjt3Q0FDbEJDLGdCQUFnQjtvQ0FDbEI7Ozs7Ozs4Q0FHRiw4REFBQ3BJO29DQUNDYSxLQUFLckI7b0NBQ0w2SSxLQUFLLENBQUMsS0FBSyxFQUFFWixRQUFRLEdBQUc7b0NBQ3hCbkcsV0FBVTtvQ0FDVm9CLFNBQVE7b0NBQ1JsQixPQUFPO3dDQUNMQyxlQUFlO3dDQUNmQyxZQUFZO3dDQUNaQyxrQkFBa0I7d0NBQ2xCMkcsV0FBVztvQ0FDYjtvQ0FDQXZHLGVBQWUsQ0FBQ2hCO3dDQUNkQSxFQUFFQyxjQUFjO3dDQUNoQkQsRUFBRUUsZUFBZTt3Q0FDakIsT0FBTztvQ0FDVDtvQ0FDQWtCLGFBQWEsQ0FBQ3BCO3dDQUNaQSxFQUFFQyxjQUFjO3dDQUNoQixPQUFPO29DQUNUOzs7Ozs7OENBR0YsOERBQUNLO29DQUFJQyxXQUFVOzt3Q0FBaUc7d0NBQ3hHbUcsUUFBUTt3Q0FBRTt3Q0FBSWpGLFNBQVMrRixTQUFTOzs7Ozs7OzsyQkEzRW5DZDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUZuQjtJQXpjZ0JyRjtNQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2pvc2VwaG1pY2hhdXQvRGVza3RvcC9haXJsb2NrL3NyYy9jb21wb25lbnRzL3NoYXJlZC9QREZQYWdlVmlld2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIjtcbmltcG9ydCB7IExvYWRlcjIsIERvd25sb2FkIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG4vLyBDb21wb3NhbnQgcG91ciBhZmZpY2hlciB1bmUgcGFnZSB2aWEgY2FudmFzIChwbHVzIGRpZmZpY2lsZSDDoCBzYXV2ZWdhcmRlcilcbmZ1bmN0aW9uIFBhZ2VDYW52YXMoeyBwYWdlVXJsLCBwYWdlTnVtYmVyLCB0b3RhbFBhZ2VzIH06IHsgcGFnZVVybDogc3RyaW5nOyBwYWdlTnVtYmVyOiBudW1iZXI7IHRvdGFsUGFnZXM6IG51bWJlciB9KSB7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkZWQsIHNldExvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcblxuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IHdpbGxSZWFkRnJlcXVlbnRseTogZmFsc2UgfSk7XG4gICAgICBpZiAoIWN0eCkgcmV0dXJuO1xuXG4gICAgICAvLyBBanVzdGVyIGxhIHRhaWxsZSBkdSBjYW52YXMgw6AgbCdpbWFnZVxuICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG5cbiAgICAgIC8vIERlc3NpbmVyIGwnaW1hZ2VcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcblxuICAgICAgLy8gRMOpc2FjdGl2ZXIgY2VydGFpbmVzIG3DqXRob2RlcyBkdSBjYW52YXMgcG91ciByZW5kcmUgcGx1cyBkaWZmaWNpbGUgbCdleHBvcnRcbiAgICAgIC8vIChOb3RlOiBjZWxhIG5lIHBldXQgcGFzIMOqdHJlIGNvbXBsw6h0ZW1lbnQgZW1ww6pjaMOpLCBtYWlzIHJlbmQgcGx1cyBkaWZmaWNpbGUpXG4gICAgICBzZXRMb2FkZWQodHJ1ZSk7XG4gICAgfTtcblxuICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycmV1ciBjaGFyZ2VtZW50IHBhZ2UgJHtwYWdlTnVtYmVyfWApO1xuICAgIH07XG5cbiAgICBpbWcuc3JjID0gcGFnZVVybDtcbiAgfSwgW3BhZ2VVcmwsIHBhZ2VOdW1iZXJdKTtcblxuICAvLyBQcm90ZWN0aW9uIHN1cHBsw6ltZW50YWlyZSA6IGVtcMOqY2hlciBsJ2V4cG9ydCBkdSBjYW52YXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJldmVudEV4cG9ydCA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsZXMgw6l2w6luZW1lbnRzIHN1ciBsZSBjYW52YXNcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2ZW50RXhwb3J0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgcHJldmVudEV4cG9ydCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHByZXZlbnRFeHBvcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9O1xuICB9LCBbbG9hZGVkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbFwiPlxuICAgICAgPGNhbnZhc1xuICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBibG9ja1wiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgV2Via2l0VG91Y2hDYWxsb3V0OiBcIm5vbmVcIixcbiAgICAgICAgICB0b3VjaEFjdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgaW1hZ2VSZW5kZXJpbmc6IFwiaGlnaC1xdWFsaXR5XCIsXG4gICAgICAgIH19XG4gICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIHshbG9hZGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktMTAwXCI+XG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy02IGgtNiBhbmltYXRlLXNwaW4gdGV4dC1ibGFjay80MFwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIFBERlBhZ2VWaWV3ZXJQcm9wcyB7XG4gIGZpbGVJZDogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgTWFuaWZlc3Qge1xuICBzdGF0dXM6IFwicmVhZHlcIiB8IFwicHJvY2Vzc2luZ1wiO1xuICBwYWdlQ291bnQ/OiBudW1iZXI7XG4gIGRvd25sb2FkQWxsb3dlZD86IGJvb2xlYW47XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQREZQYWdlVmlld2VyKHsgZmlsZUlkLCB0b2tlbiwgZmlsZU5hbWUgfTogUERGUGFnZVZpZXdlclByb3BzKSB7XG4gIGNvbnN0IFttYW5pZmVzdCwgc2V0TWFuaWZlc3RdID0gdXNlU3RhdGU8TWFuaWZlc3QgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaGFyZUlkLCBzZXRTaGFyZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBvYnNlcnZlclJlZiA9IHVzZVJlZjxJbnRlcnNlY3Rpb25PYnNlcnZlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsb2FkZWRQYWdlc1JlZiA9IHVzZVJlZjxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTtcbiAgY29uc3Qgb3ZlcmxheVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgLy8gUsOpY3Vww6lyZXIgbGUgc2hhcmVJZCBkZXB1aXMgbGUgdG9rZW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFNoYXJlSWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAvYXBpL3NoYXJlL2ZpbGUvJHtmaWxlSWR9L3ZpZXdlci1tYW5pZmVzdD90b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAvLyBFeHRyYWlyZSBsZSBzaGFyZUlkIGRlcHVpcyBsZXMgcGFnZVVybHMgc2kgZGlzcG9uaWJsZXNcbiAgICAgICAgICBpZiAoZGF0YS5wYWdlVXJscyAmJiBkYXRhLnBhZ2VVcmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZGF0YS5wYWdlVXJsc1swXS5tYXRjaCgvXFwvYXBpXFwvc2hhcmVcXC8oW14vXSspXFwvLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgc2V0U2hhcmVJZChtYXRjaFsxXSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gU2lub24sIHV0aWxpc2VyIGwnYW5jaWVubmUgcm91dGUgcG91ciByw6ljdXDDqXJlciBsZSBzaGFyZUlkXG4gICAgICAgICAgLy8gT24gdmEgdXRpbGlzZXIgbCdBUEkgdmlld2VyLW1hbmlmZXN0IHF1aSBjb250aWVudCBsZSBzaGFyZUlkIGRhbnMgbGVzIFVSTHNcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgcsOpY3Vww6lyYXRpb24gc2hhcmVJZDpcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZldGNoU2hhcmVJZCgpO1xuICB9LCBbZmlsZUlkLCB0b2tlbl0pO1xuXG4gIC8vIFByb3RlY3Rpb24gZ2xvYmFsZSBjb250cmUgbGVzIHTDqWzDqWNoYXJnZW1lbnRzIGV0IGNhcHR1cmVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQmxvcXVlciBsZXMgcmFjY291cmNpcyBjbGF2aWVyXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAvLyBDdHJsK1MsIEN0cmwrUCwgQ3RybCtBLCBGMTIsIFByaW50IFNjcmVlbiwgZXRjLlxuICAgICAgaWYgKFxuICAgICAgICAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgKGUua2V5ID09PSAncycgfHwgZS5rZXkgPT09ICdwJyB8fCBlLmtleSA9PT0gJ2EnIHx8IGUua2V5ID09PSAndScgfHwgZS5rZXkgPT09ICdpJykgfHxcbiAgICAgICAgZS5rZXkgPT09ICdGMTInIHx8XG4gICAgICAgIGUua2V5ID09PSAnUHJpbnRTY3JlZW4nIHx8XG4gICAgICAgIChlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnRjEyJylcbiAgICAgICkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsZSBtZW51IGNvbnRleHR1ZWxcbiAgICBjb25zdCBoYW5kbGVDb250ZXh0TWVudSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsZSBkcmFnIGFuZCBkcm9wXG4gICAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsYSBzw6lsZWN0aW9uIGRlIHRleHRlXG4gICAgY29uc3QgaGFuZGxlU2VsZWN0U3RhcnQgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQmxvcXVlciBsYSBjb3BpZVxuICAgIGNvbnN0IGhhbmRsZUNvcHkgPSAoZTogQ2xpcGJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIEJsb3F1ZXIgbGUgY2xpYyBkcm9pdCBldCBsZSBjbGljIGdhdWNoZSBzdXIgbGVzIGltYWdlc1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAvLyBCbG9xdWVyIHRvdXMgbGVzIGNsaWNzIHN1ciBsZXMgaW1hZ2VzXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBam91dGVyIGxlcyDDqWNvdXRldXJzIGF2ZWMgY2FwdHVyZSBwb3VyIGludGVyY2VwdGVyIHTDtHRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93biwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgaGFuZGxlQ29udGV4dE1lbnUsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnU3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGhhbmRsZVNlbGVjdFN0YXJ0LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGhhbmRsZUNvcHksIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIETDqXNhY3RpdmVyIGxhIHPDqWxlY3Rpb24gZGUgdGV4dGUgZ2xvYmFsZW1lbnRcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJ25vbmUnO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZUNvbnRleHRNZW51LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnU3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgaGFuZGxlU2VsZWN0U3RhcnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCBoYW5kbGVDb3B5LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICcnO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJyc7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIFLDqWN1cMOpcmVyIGxlIHNoYXJlSWQgZGVwdWlzIGwnYW5jaWVubmUgcm91dGUgdmlld2VyLW1hbmlmZXN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hTaGFyZUlkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgL2FwaS9zaGFyZS9maWxlLyR7ZmlsZUlkfS92aWV3ZXItbWFuaWZlc3Q/dG9rZW49JHt0b2tlbn1gXG4gICAgICAgICk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgLy8gRXh0cmFpcmUgbGUgc2hhcmVJZCBkZXB1aXMgbGVzIHBhZ2VVcmxzIHNpIGRpc3BvbmlibGVzXG4gICAgICAgICAgaWYgKGRhdGEucGFnZVVybHMgJiYgZGF0YS5wYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IGRhdGEucGFnZVVybHNbMF0ubWF0Y2goL1xcL2FwaVxcL3NoYXJlXFwvKFteL10rKVxcLy8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgIHNldFNoYXJlSWQobWF0Y2hbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgcsOpY3Vww6lyYXRpb24gc2hhcmVJZDpcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZldGNoU2hhcmVJZCgpO1xuICB9LCBbZmlsZUlkLCB0b2tlbl0pO1xuXG4gIC8vIENoYXJnZXIgbGUgbWFuaWZlc3QgYXZlYyBwb2xsaW5nIHNpIGVuIGNvdXJzIGRlIGfDqW7DqXJhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2hhcmVJZCkgcmV0dXJuOyAvLyBBdHRlbmRyZSBxdWUgc2hhcmVJZCBzb2l0IGRpc3BvbmlibGVcblxuICAgIGxldCBwb2xsSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgIGNvbnN0IE1BWF9SRVRSSUVTID0gMzA7IC8vIDMwIHRlbnRhdGl2ZXMgPSAxIG1pbnV0ZSBtYXggKHBvbGxpbmcgdG91dGVzIGxlcyAycylcblxuICAgIGNvbnN0IGxvYWRNYW5pZmVzdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYC9hcGkvc2hhcmUvJHtzaGFyZUlkfS9maWxlLyR7ZmlsZUlkfS9tYW5pZmVzdD90b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8IGBFcnJldXIgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgaWYgKHBvbGxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSBcInByb2Nlc3NpbmdcIikge1xuICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICBpZiAocmV0cnlDb3VudCA+PSBNQVhfUkVUUklFUykge1xuICAgICAgICAgICAgc2V0RXJyb3IoXCJMYSBnw6luw6lyYXRpb24gZGVzIHBhZ2VzIHByZW5kIHRyb3AgZGUgdGVtcHMuIFZldWlsbGV6IHLDqWVzc2F5ZXIgcGx1cyB0YXJkLlwiKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb250aW51ZXIgbGUgcG9sbGluZ1xuICAgICAgICAgIHNldE1hbmlmZXN0KGRhdGEpO1xuICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICBzZXRFcnJvcihkYXRhLmVycm9yKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBpZiAocG9sbEludGVydmFsKSBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFnZXMgcHLDqnRlcyAhIEFycsOqdGVyIGxlIHBvbGxpbmdcbiAgICAgICAgc2V0TWFuaWZlc3QoZGF0YSk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBpZiAocG9sbEludGVydmFsKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICAgICAgICAgIHBvbGxJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50OlwiLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCBcIkVycmV1ciBkZSBjaGFyZ2VtZW50XCIpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgaWYgKHBvbGxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoZmlsZUlkICYmIHRva2VuICYmIHNoYXJlSWQpIHtcbiAgICAgIGxvYWRNYW5pZmVzdCgpO1xuICAgICAgLy8gUG9sbGluZyB0b3V0ZXMgbGVzIDIgc2Vjb25kZXNcbiAgICAgIHBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgbG9hZE1hbmlmZXN0KCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9IGVsc2UgaWYgKCFzaGFyZUlkKSB7XG4gICAgICAvLyBBdHRlbmRyZSBxdWUgc2hhcmVJZCBzb2l0IGRpc3BvbmlibGVcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IoXCJQYXJhbcOodHJlcyBtYW5xdWFudHNcIik7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHBvbGxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtmaWxlSWQsIHRva2VuLCBzaGFyZUlkXSk7XG5cbiAgLy8gTGF6eSBsb2FkaW5nIGF2ZWMgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1hbmlmZXN0IHx8IG1hbmlmZXN0LnN0YXR1cyAhPT0gXCJyZWFkeVwiIHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSBwYXJzZUludChcbiAgICAgICAgICAgICAgZW50cnkudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZS1pbmRleFwiKSB8fCBcIjBcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghbG9hZGVkUGFnZXNSZWYuY3VycmVudC5oYXMocGFnZUluZGV4KSkge1xuICAgICAgICAgICAgICBsb2FkZWRQYWdlc1JlZi5jdXJyZW50LmFkZChwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb290OiBjb250YWluZXJSZWYuY3VycmVudCxcbiAgICAgICAgcm9vdE1hcmdpbjogXCIyMDBweFwiLCAvLyBQcsOpY2hhcmdlciAyMDBweCBhdmFudFxuICAgICAgICB0aHJlc2hvbGQ6IDAuMSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgcGFnZUVsZW1lbnRzID0gY29udGFpbmVyUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXBhZ2UtaW5kZXhdXCIpO1xuICAgIHBhZ2VFbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xuXG4gICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbbWFuaWZlc3RdKTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW1hbmlmZXN0Py5kb3dubG9hZEFsbG93ZWQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NoYXJlL2ZpbGUvJHtmaWxlSWR9L2Rvd25sb2FkYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW4gfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLmRvd25sb2FkVXJsKSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGRhdGEuZG93bmxvYWRVcmwsIFwiX2JsYW5rXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoZGF0YS5lcnJvciB8fCBcIkVycmV1ciBsb3JzIGR1IHTDqWzDqWNoYXJnZW1lbnRcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydChcIkVycmV1ciBsb3JzIGR1IHTDqWzDqWNoYXJnZW1lbnRcIik7XG4gICAgfVxuICB9O1xuXG4gIGlmIChsb2FkaW5nICYmICFtYW5pZmVzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtYmxhY2svNDAgbXgtYXV0b1wiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsYWNrLzYwXCI+Q2hhcmdlbWVudC4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00IG1heC13LW1kIHB4LTRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgZm9udC1tZWRpdW1cIj57ZXJyb3J9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIXNoYXJlSWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiB0ZXh0LWJsYWNrLzQwIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibGFjay82MFwiPkluaXRpYWxpc2F0aW9uLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAobWFuaWZlc3Q/LnN0YXR1cyA9PT0gXCJwcm9jZXNzaW5nXCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiB0ZXh0LWJsYWNrLzQwIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibGFjay82MFwiPlxuICAgICAgICAgICAge21hbmlmZXN0Lm1lc3NhZ2UgfHwgXCJHw6luw6lyYXRpb24gZGVzIHBhZ2VzIHdhdGVybWFya8OpZXMgZW4gY291cnMuLi5cIn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsYWNrLzQwXCI+Q2VsYSBwZXV0IHByZW5kcmUgcXVlbHF1ZXMgaW5zdGFudHMgcG91ciBsZXMgZ3JvcyBmaWNoaWVyczwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFtYW5pZmVzdCB8fCBtYW5pZmVzdC5zdGF0dXMgIT09IFwicmVhZHlcIiB8fCAhbWFuaWZlc3QucGFnZVVybHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrLzYwXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgey8qIEhlYWRlciBhdmVjIGJvdXRvbiBkb3dubG9hZCBzaSBhdXRvcmlzw6kgKi99XG4gICAgICB7bWFuaWZlc3QuZG93bmxvYWRBbGxvd2VkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHotNTBcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibGFjayB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgZm9udC1tZWRpdW0gaG92ZXI6YmctYmxhY2svOTAgdHJhbnNpdGlvbi1hbGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc2hhZG93LWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICBUw6lsw6ljaGFyZ2VyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuXG4gICAgICB7LyogQ29udGFpbmVyIHNjcm9sbGFibGUgYXZlYyBwYWdlcyAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gb3ZlcmZsb3cteC1oaWRkZW4gcmVsYXRpdmUgei0xMFwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6IFwidGhpblwiLFxuICAgICAgICAgIHNjcm9sbGJhckNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMC4yKSB0cmFuc3BhcmVudFwiLFxuICAgICAgICB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcHktOCBzcGFjZS15LTRcIj5cbiAgICAgICAgICB7bWFuaWZlc3QucGFnZVVybHMubWFwKChwYWdlVXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgZGF0YS1wYWdlLWluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLXdoaXRlIHNoYWRvdy1sZyByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiOTAlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjEyMDBweFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBEw6l0ZWN0ZXIgc2kgYydlc3QgdW4gY2xpYyBvdSB1biBzY3JvbGxcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnIHx8IHRhcmdldC5jbG9zZXN0KCdpbWcnKSkge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpKSB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgey8qIEZpbGlncmFuZSBlbiBvdmVybGF5IChiYWNrdXAgc2kgcGFzIGRhbnMgbCdpbWFnZSkgKi99XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzUwMCcgaGVpZ2h0PSczMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0N0ZXh0IHg9JzUwJTI1JyB5PSc1MCUyNScgZm9udC1zaXplPSczNicgZm9udC13ZWlnaHQ9JzkwMCcgZm9udC1mYW1pbHk9J0FyaWFsLCBzYW5zLXNlcmlmJyBmaWxsPSdyZ2JhKDAsMCwwLDAuMTUpJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkb21pbmFudC1iYXNlbGluZT0nbWlkZGxlJyB0cmFuc2Zvcm09J3JvdGF0ZSgtNDUgMjUwIDE2MCknJTNFQ09ORklERU5USUVMIEFJUkxPQ0slM0MvdGV4dCUzRSUzQy9zdmclM0VcIilgLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJyZXBlYXRcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcIjUwMHB4IDMyMHB4XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgey8qIEltYWdlIGRlIGxhIHBhZ2UgLSBVdGlsaXNlciA8aW1nPiBuYXRpZiAocGFzIE5leHQvSW1hZ2UpIHBvdXIgw6l2aXRlciBsZXMgcHJvYmzDqG1lcyAqL31cbiAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHNyYz17cGFnZVVybH1cbiAgICAgICAgICAgICAgICBhbHQ9e2BQYWdlICR7aW5kZXggKyAxfWB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Db250ZXh0TWVudT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7LyogTnVtw6lybyBkZSBwYWdlICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IHJpZ2h0LTQgYmctYmxhY2svNTAgdGV4dC13aGl0ZSBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXhzIGZvbnQtbWVkaXVtIHotMjBcIj5cbiAgICAgICAgICAgICAgICBQYWdlIHtpbmRleCArIDF9IC8ge21hbmlmZXN0LnBhZ2VDb3VudH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsIm1vdGlvbiIsIkxvYWRlcjIiLCJEb3dubG9hZCIsIlBhZ2VDYW52YXMiLCJwYWdlVXJsIiwicGFnZU51bWJlciIsInRvdGFsUGFnZXMiLCJjYW52YXNSZWYiLCJsb2FkZWQiLCJzZXRMb2FkZWQiLCJjYW52YXMiLCJjdXJyZW50IiwiaW1nIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsIm9ubG9hZCIsImN0eCIsImdldENvbnRleHQiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsIm9uZXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJzcmMiLCJwcmV2ZW50RXhwb3J0IiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhcHR1cmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwic3R5bGUiLCJwb2ludGVyRXZlbnRzIiwidXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJXZWJraXRUb3VjaENhbGxvdXQiLCJ0b3VjaEFjdGlvbiIsImltYWdlUmVuZGVyaW5nIiwib25Db250ZXh0TWVudSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9uTW91c2VEb3duIiwib25DbGljayIsIm9uRHJhZ1N0YXJ0IiwiUERGUGFnZVZpZXdlciIsImZpbGVJZCIsInRva2VuIiwiZmlsZU5hbWUiLCJtYW5pZmVzdCIsInNldE1hbmlmZXN0IiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNoYXJlSWQiLCJzZXRTaGFyZUlkIiwiY29udGFpbmVyUmVmIiwib2JzZXJ2ZXJSZWYiLCJsb2FkZWRQYWdlc1JlZiIsIlNldCIsIm92ZXJsYXlSZWYiLCJmZXRjaFNoYXJlSWQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJkYXRhIiwianNvbiIsInBhZ2VVcmxzIiwibGVuZ3RoIiwibWF0Y2giLCJlcnIiLCJoYW5kbGVLZXlEb3duIiwiY3RybEtleSIsIm1ldGFLZXkiLCJrZXkiLCJzaGlmdEtleSIsImhhbmRsZUNvbnRleHRNZW51IiwiaGFuZGxlRHJhZ1N0YXJ0IiwiaGFuZGxlU2VsZWN0U3RhcnQiLCJoYW5kbGVDb3B5IiwiaGFuZGxlTW91c2VEb3duIiwidGFyZ2V0IiwidGFnTmFtZSIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImJvZHkiLCJ3ZWJraXRVc2VyU2VsZWN0IiwicG9sbEludGVydmFsIiwicmV0cnlDb3VudCIsIk1BWF9SRVRSSUVTIiwibG9hZE1hbmlmZXN0IiwiZXJyb3JEYXRhIiwic3RhdHVzIiwiY2xlYXJJbnRlcnZhbCIsIm1lc3NhZ2UiLCJzZXRJbnRlcnZhbCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJwYWdlSW5kZXgiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImhhcyIsImFkZCIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwicGFnZUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJoYW5kbGVEb3dubG9hZCIsImRvd25sb2FkQWxsb3dlZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiZG93bmxvYWRVcmwiLCJ3aW5kb3ciLCJvcGVuIiwiYWxlcnQiLCJwIiwiYnV0dG9uIiwic2Nyb2xsYmFyV2lkdGgiLCJzY3JvbGxiYXJDb2xvciIsIm1hcCIsImluZGV4IiwiZGF0YS1wYWdlLWluZGV4IiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJ5IiwiYW5pbWF0ZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsIm1heFdpZHRoIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFJlcGVhdCIsImJhY2tncm91bmRTaXplIiwiYWx0IiwiZHJhZ2dhYmxlIiwicGFnZUNvdW50Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/shared/PDFPageViewer.tsx\n"));

/***/ })

});